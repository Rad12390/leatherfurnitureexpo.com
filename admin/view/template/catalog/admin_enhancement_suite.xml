<modification>
	<id>Admin Enhancement Suite</id>
	<version>1.3.0-beta.4</version>
	<vqmver>2.3.0</vqmver>
	<author>Ryan (rph) - OpenCartHelp.com</author>
	<!--
	@NEW:  Ported to vQmod 2.3.0 (required)
	@NEW:  Order List - Order Total ranges, e.g. "75-150" for order totals between $75 and $150
	@NEW:  Order List - Company sorting/filtering
	@NEW:  Order List - Email sorting/filtering
	@NEW:  Product List - Category filtering (optional)
	@NEW:  Product List - Date Added sorting/filtering (optional)
	@NEW:  Product List - Date Modified sorting/filtering (optional)
	@NEW:  Product List - Price ranges filtering; separate values with a dash, e.g. "10-50" for regular prices between $10 and $50
	@NEW:  Product List - Quantity ranges filtering; separate values with a dash, e.g. "100-200" for products with quantities between 100 and 200
	@NEW:  Latest Orders - Number of orders customer placed
	@NEW:  Latest Orders - Company name
	@NEW:  SEO Keyword duplication checking can now be optionally disabled for compatibility with third-party SEO mods
	@NEW:  Two new sizes for Image Manager optimized for widescreen monitors
	@NEW:  Model search in product autocomplete (optional)
	@NEW:  Verbose errors in category, information, and product forms
	@NEW:  Order status exclusions extended to reports
	@NEW:  Improved language fallback

	@TODO: Testing
	@TODO: Fix CKEditor in newsletter
	@TODO: Product Form image path
	@TODO: Product List 'Store' link action
	@TODO: Image Manager cookies
	-->
	<file path="admin/controller/catalog/" name="category.php,information.php,product.php">
		<operation error="log">
			<!-- index="2" to target getForm() errors and skip getList() errors -->
			<!-- This edit can be applied across all files in the path but is being restricted to multi-tab forms -->
			<search position="after" offset="1" index="2"><![CDATA[$this->data['error_warning'] = '';]]></search>
			<add><![CDATA[
		if (!empty($this->error)) {
			foreach ($this->error as $error => $warning) {
				if ($error != 'warning') {
					$this->data['error_warning'] .= '<br />&bull; ' . (is_array($warning) ? implode('<br />&bull; ', $warning) : $warning);
				}
			}
		}
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/catalog/category.php">
		<operation error="log">
			<search position="after"><![CDATA[$result['sort_order'],]]></search>
			<add><![CDATA[				'status'      => ($result['status'] ? $this->language->get('text_enabled') : $this->language->get('text_disabled')),]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[$this->data['column_sort_order']]]></search>
			<add><![CDATA[		$this->data['column_status'] = $this->language->get('column_status');]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[	if (isset($this->error['name']))]]></search>
			<add><![CDATA[		if (isset($this->error['keyword_duplicate'])) {
			$this->data['error_keyword_duplicate'] = $this->error['keyword_duplicate'];
		} else {
			$this->data['error_keyword_duplicate'] = '';
		}

		if (isset($this->error['keyword_duplicate'])) {
			$this->data['error_data_tab'] = true;
		} else {
			$this->data['error_data_tab'] = false;
		}

		if (isset($this->error['name'])) {
			$this->data['error_general_tab'] = true;
		} else {
			$this->data['error_general_tab'] = false;
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[$this->template = 'catalog/category_form.tpl';]]></search>
			<add><![CDATA[		$this->data['heading_info'] = '';
		
		if (isset($this->data['category_description'][$this->config->get('config_language_id')]['name'])) {
			$this->data['heading_info'] .= ' &mdash; ' . $this->data['category_description'][$this->config->get('config_language_id')]['name'];
		}

		if ($this->config->get('aes_filemanager_size')) {
			$dimensions = explode('_', $this->config->get('aes_filemanager_size'));

			$this->data['filemanager_width'] = $dimensions[0];
			$this->data['filemanager_height'] = $dimensions[1];
		} else {
			$this->data['filemanager_width'] = 800;
			$this->data['filemanager_height'] = 400;
		}

		$this->data['text_store_view'] = $this->language->get('text_store_view');

		if (!empty($category_info) && $category_info['status'] == 1 && in_array(0, $this->data['category_store'])) {
			$this->data['store_view'] = HTTP_CATALOG . ($this->config->get('config_seo_url') && !empty($category_info['keyword']) ? $category_info['keyword'] : 'index.php?route=product/category&path=' . (int)$this->request->get['category_id']);
		} else {
			$this->data['store_view'] = false;
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[if ($this->error && !isset($this->error['warning']))]]></search>
			<add><![CDATA[		if (isset($this->request->post['keyword'])) {
			$this->load->model('catalog/product');

			if (isset($this->request->get['category_id'])) {
				$category_id = $this->request->get['category_id'];
			} else {
				$category_id = '';
			}

			if ($this->model_catalog_product->getUrlAlias($this->request->post['keyword'], 'category', $category_id)) {
				$this->error['keyword_duplicate'] = $this->language->get('error_keyword_duplicate');
			}
		}
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/catalog/download.php">
		<operation error="log">
			<search position="replace"><![CDATA[$this->data['remaining'] = 1;]]></search>
			<add><![CDATA[$this->data['remaining'] = ($this->config->has('aes_default_download_remaining') ? $this->config->get('aes_default_download_remaining') : 1);]]></add>
		</operation>
	</file>
	<file name="admin/controller/catalog/information.php">
		<operation error="log">
			<search position="after"><![CDATA[$result['sort_order'],]]></search>
			<add><![CDATA[				'status'         => ($result['status'] ? $this->language->get('text_enabled') : $this->language->get('text_disabled')),]]></add>
		</operation>
		<!-- AES 1.3.0 -->
		<!--<operation error="log">
			<search position="after"><![CDATA[$action = array();]]></search>
			<add><![CDATA[
			if ($result['status'] == 1 && in_array(0, $this->model_catalog_information->getInformationStores($result['information_id']))) {
				$action[] = array(
					'text' => 'Store',
					'href' => HTTP_CATALOG . 'index.php?route=information/information&information_id=' . (int)$result['information_id'] . '" target="_blank'
				);
			}]]></add>
		</operation>-->
		<!-- // -->
		<operation error="log">
			<search position="after"><![CDATA[$this->data['column_action']]]></search>
			<add><![CDATA[		$this->data['column_status'] = $this->language->get('column_status');]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[if (isset($this->error['description']))]]></search>
			<add><![CDATA[		if (isset($this->error['keyword_duplicate'])) {
			$this->data['error_keyword_duplicate'] = $this->error['keyword_duplicate'];
		} else {
			$this->data['error_keyword_duplicate'] = '';
		}

		if (isset($this->error['title']) || isset($this->error['description'])) {
			$this->data['error_general_tab'] = true;
		} else {
			$this->data['error_general_tab'] = false;
		}

		if (isset($this->error['keyword_duplicate'])) {
			$this->data['error_data_tab'] = true;
		} else {
			$this->data['error_data_tab'] = false;
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[$this->template = 'catalog/information_form.tpl';]]></search>
			<add><![CDATA[$this->data['heading_info'] = '';
		
		if (isset($this->data['information_description'][$this->config->get('config_language_id')]['title'])) {
			$this->data['heading_info'] .= ' &mdash; ' . $this->data['information_description'][$this->config->get('config_language_id')]['title'];
		}

		$this->data['text_store_view'] = $this->language->get('text_store_view');

		if (!empty($information_info) && $information_info['status'] == 1 && in_array(0, $this->data['information_store'])) {
			$this->data['store_view'] = HTTP_CATALOG . ($this->config->get('config_seo_url') && !empty($information_info['keyword']) ? $information_info['keyword'] : 'index.php?route=information/information&information_id=' . (int)$this->request->get['information_id']);
		} else {
			$this->data['store_view'] = false;
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[if ($this->error && !isset($this->error['warning']))]]></search>
			<add><![CDATA[		if (isset($this->request->post['keyword'])) {
			$this->load->model('catalog/product');

			if (isset($this->request->get['information_id'])) {
				$information_id = $this->request->get['information_id'];
			} else {
				$information_id = '';
			}

			if ($this->model_catalog_product->getUrlAlias($this->request->post['keyword'], 'information', $information_id)) {
				$this->error['keyword_duplicate'] = $this->language->get('error_keyword_duplicate');
			}
		}
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/catalog/manufacturer.php">
		<operation error="log">
			<search position="before"><![CDATA[if (isset($this->error['name']))]]></search>
			<add><![CDATA[		if (isset($this->error['keyword_duplicate'])) {
			$this->data['error_keyword_duplicate'] = $this->error['keyword_duplicate'];
		} else {
			$this->data['error_keyword_duplicate'] = '';
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[$this->template = 'catalog/manufacturer_form.tpl';]]></search>
			<add><![CDATA[		if ($this->config->get('aes_filemanager_size')) {
			$dimensions = explode('_', $this->config->get('aes_filemanager_size'));

			$this->data['filemanager_width'] = $dimensions[0];
			$this->data['filemanager_height'] = $dimensions[1];
		} else {
			$this->data['filemanager_width'] = 800;
			$this->data['filemanager_height'] = 400;
		}

		$this->data['text_store_view'] = $this->language->get('text_store_view');

		if (!empty($manufacturer_info) && in_array(0, $this->data['manufacturer_store'])) {
			$this->data['store_view'] = HTTP_CATALOG . ($this->config->get('config_seo_url') && !empty($manufacturer_info['keyword']) ? $manufacturer_info['keyword'] : 'index.php?route=product/manufacturer/product&manufacturer_id=' . (int)$this->request->get['manufacturer_id']);
		} else {
			$this->data['store_view'] = false;
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[function validateForm()]]></search>
			<add><![CDATA[		if (isset($this->request->post['keyword'])) {
			$this->load->model('catalog/product');

			if (isset($this->request->get['manufacturer_id'])) {
				$manufacturer_id = $this->request->get['manufacturer_id'];
			} else {
				$manufacturer_id = '';
			}

			if ($this->model_catalog_product->getUrlAlias($this->request->post['keyword'], 'manufacturer', $manufacturer_id)) {
				$this->error['keyword_duplicate'] = $this->language->get('error_keyword_duplicate');
			}
		}
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/catalog/option.php">
		<!-- Skip for OpenCart 1.5.1.x compatibility -->
		<operation error="skip">
			<search position="before"><![CDATA[$this->template = 'catalog/option_form.tpl';]]></search>
			<add><![CDATA[		if ($this->config->get('aes_filemanager_size')) {
			$dimensions = explode('_', $this->config->get('aes_filemanager_size'));
			
			$this->data['filemanager_width'] = $dimensions[0];
			$this->data['filemanager_height'] = $dimensions[1];
		} else {
			$this->data['filemanager_width'] = 800;
			$this->data['filemanager_height'] = 400;
		}

		$this->template = 'catalog/option_form.tpl';
		$this->children = array(
			'common/header',
			'common/footer'
		);
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/catalog/product.php">
		<!-- Product List -->
		<operation error="log">
			<search position="after"><![CDATA[function getList()]]></search>
			<add><![CDATA[		if (!is_null($this->config->get('aes_product_list_sort')) && $this->config->get('aes_product_list_sort') != false) {
			$default_sort_order = explode('_', $this->config->get('aes_product_list_sort'));
		} else {
			$default_sort_order = array();
		}

		//AES 1.3.0
		// Assign true/false as an integer for column resizing on 'No Results'
		if ($this->config->get('aes_product_list_added_filter')) {
			$this->data['date_added_column'] = 1;
		} else {
			$this->data['date_added_column'] = 0;
		}

		if ($this->config->get('aes_product_list_modified_filter')) {
			$this->data['date_modified_column'] = 1;
		} else {
			$this->data['date_modified_column'] = 0;
		}

		if ($this->config->get('aes_product_list_category_filter')) {
			$this->data['categories_column'] = 1;
		} else {
			$this->data['categories_column'] = 0;
		}
		
		$this->data['column_date_added'] = $this->language->get('column_date_added');
		$this->data['column_date_modified'] = $this->language->get('column_date_modified');
		$this->data['column_categories'] = $this->language->get('column_categories');

		$this->load->model('catalog/category');

		$this->data['categories'] = $this->model_catalog_category->getCategories($data = array());

		]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[$sort = 'pd.name';]]></search>
			<add><![CDATA[$sort = (!empty($default_sort_order) ? $default_sort_order[0] : 'pd.name');]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[$order = 'ASC';]]></search>
			<add><![CDATA[$order = (!empty($default_sort_order) ? $default_sort_order[1] : 'ASC');]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[$result['quantity'],]]></search>
			<add><![CDATA[				'date_available' => $result['date_available'],
				'active'         => $result['status'],]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[$this->data['text_no_results']]]></search>
			<add><![CDATA[		$this->data['text_enabled_future'] = $this->language->get('text_enabled_future');]]></add>
		</operation>


		<!-- AES 1.3.0 -->
		<operation error="log">
			<!-- Multiple Additions -->
			<search position="before" offset="1"><![CDATA[$url .= '&filter_status=' . $this->request->get['filter_status'];]]></search>
			<add><![CDATA[		if (isset($this->request->get['filter_date_added'])) {
			$url .= '&filter_date_added=' . $this->request->get['filter_date_added'];
		}

		if (isset($this->request->get['filter_date_modified'])) {
			$url .= '&filter_date_modified=' . $this->request->get['filter_date_modified'];
		}

		if (isset($this->request->get['filter_category_id'])) {
			$url .= '&filter_category_id=' . $this->request->get['filter_category_id'];
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="before" offset="1"><![CDATA[$filter_status = $this->request->get['filter_status'];]]></search>
			<add><![CDATA[		if (isset($this->request->get['filter_date_added'])) {
			$filter_date_added = $this->request->get['filter_date_added'];
		} else {
			$filter_date_added = null;
		}

		if (isset($this->request->get['filter_date_modified'])) {
			$filter_date_modified = $this->request->get['filter_date_modified'];
		} else {
			$filter_date_modified = null;
		}

		if (isset($this->request->get['filter_category_id'])) {
			$filter_category_id = $this->request->get['filter_category_id'];
		} else {
			$filter_category_id = null;
		}

		$this->data['filter_date_added'] = $filter_date_added;
		$this->data['filter_date_modified'] = $filter_date_modified;
		$this->data['filter_category_id'] = $filter_category_id;
		]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[=> $filter_status,]]></search>
			<add><![CDATA[			'filter_date_added'    => $filter_date_added,
			'filter_date_modified' => $filter_date_modified,
			'filter_category_id'   => $filter_category_id,]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[=> $result['quantity'],]]></search>
			<add><![CDATA[				'date_added'    => date('Y-m-d', strtotime($result['date_added'])),
				'date_modified' => date('Y-m-d', strtotime($result['date_modified'])),
				'categories'    => $this->model_catalog_product->getProductCategoriesDescriptions($result['product_id']),]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA['&sort=p.sort_order']]></search>
			<add><![CDATA[		$this->data['sort_date_added'] = $this->url->link('catalog/product', 'token=' . $this->session->data['token'] . '&sort=p.date_added' . $url, 'SSL');
		$this->data['sort_date_modified'] = $this->url->link('catalog/product', 'token=' . $this->session->data['token'] . '&sort=p.date_modified' . $url, 'SSL');
		$this->data['sort_category'] = $this->url->link('catalog/product', 'token=' . $this->session->data['token'] . '&sort=p2c.category_id' . $url, 'SSL');]]></add>
		</operation>
		<!-- // -->

		<!-- Autocomplete Expanded -->
		<operation error="log">
			<search position="before"><![CDATA[isset($this->request->get['limit'])]]></search>
			<add><![CDATA[			if (isset($this->request->get['aes_model']) && $this->config->get('aes_expanded_autocomplete')) {
				$filter_aes_model = true;
				$filter_model = $filter_name;
			} else {
				$filter_aes_model = false;
			}
			]]></add>
		</operation>
		<operation error="log">
			<search position="after" index="2"><![CDATA[=> $filter_model,]]></search>
			<add><![CDATA[				'filter_aes_model' => $filter_aes_model,]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[html_entity_decode($result['name'], ENT_QUOTES, 'UTF-8')]]></search>
			<add><![CDATA[html_entity_decode($result['name'] . ($filter_aes_model ? ' ('. $result['model'] .')' : ''), ENT_QUOTES, 'UTF-8')]]></add>
		</operation>

		<!-- Product Form -->
		<operation error="log">
			<search position="before"><![CDATA[if (isset($this->error['date_available']))]]></search>
			<add><![CDATA[		if (isset($this->error['keyword_duplicate'])) {
			$this->data['error_keyword_duplicate'] = $this->error['keyword_duplicate'];
		} else {
			$this->data['error_keyword_duplicate'] = '';
		}

		if (isset($this->error['name']) || isset($this->error['meta_description']) || isset($this->error['description'])) {
			$this->data['error_general_tab'] = true;
		} else {
			$this->data['error_general_tab'] = false;
		}

		if (isset($this->error['model']) || isset($this->error['keyword_duplicate']) || isset($this->error['date_available'])) {
			$this->data['error_data_tab'] = true;
		} else {
			$this->data['error_data_tab'] = false;
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[if (isset($this->request->post['sku']))]]></search>
			<add><![CDATA[		$this->data['heading_info'] = '';
		
		if (isset($this->data['product_description'][$this->config->get('config_language_id')]['name'])) {
			$this->data['heading_info'] .= ' &mdash; ' . $this->data['product_description'][$this->config->get('config_language_id')]['name'];
		}
		
		if (!empty($this->data['model'])) {
			$this->data['heading_info'] .= ' &mdash; ' . $this->data['model'];
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="replace" regex="true"><![CDATA[~\$this->data\['(shipping|tax_class_id|quantity|minimum|subtract)'\] = (1|0);~]]></search>
			<add><![CDATA[$this->data['$1'] = ($this->config->has('aes_default_product_$1') ? $this->config->get('aes_default_product_$1') : $2);]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[$this->data['status'] = $product_info['status'];]]></search>
			<add><![CDATA[		} elseif ($this->config->has('aes_default_product_status')) {
			$this->data['status'] = $this->config->get('aes_default_product_status');]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[$this->load->model('sale/customer_group');]]></search>
			<add><![CDATA[		if ($this->config->has('aes_default_product_option_required')) {
			$this->data['option_required'] = $this->config->get('aes_default_product_option_required');
		} else {
			$this->data['option_required'] = 1;
		}

		if ($this->config->has('aes_default_product_option_subtract')) {
			$this->data['option_subtract'] = $this->config->get('aes_default_product_option_subtract');
		} else {
			$this->data['option_subtract'] = 1;
		}

		if ($this->config->has('aes_default_product_customer_group_id')) {
			$this->data['default_customer_group'] = $this->config->get('aes_default_product_customer_group_id');
		} else {
			$this->data['default_customer_group'] = 0;
		}

		if ($this->config->get('aes_filemanager_size')) {
			$dimensions = explode('_', $this->config->get('aes_filemanager_size'));

			$this->data['filemanager_width'] = $dimensions[0];
			$this->data['filemanager_height'] = $dimensions[1];
		} else {
			$this->data['filemanager_width'] = '800';
			$this->data['filemanager_height'] = '400';
		}

		$this->data['entry_last_modified'] = $this->language->get('entry_last_modified');

		if (!empty($product_info)) {
			$this->data['last_modified'] = date($this->language->get('date_format_short'), strtotime($product_info['date_modified'])) . ' &mdash; ' . date($this->language->get('time_format'), strtotime($product_info['date_modified']));
		} else {
			$this->data['last_modified'] = '&mdash;';
		}

		$this->data['text_store_view'] = $this->language->get('text_store_view');

		if (!empty($product_info) && $product_info['status'] == 1 && in_array(0, $this->data['product_store'])) {
			$this->data['store_view'] = HTTP_CATALOG . ($this->config->get('config_seo_url') && !empty($product_info['keyword']) ? $product_info['keyword'] : 'index.php?route=product/product&product_id=' . (int)$this->request->get['product_id']);
		} else {
			$this->data['store_view'] = false;
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[if ($this->error && !isset($this->error['warning']))]]></search>
			<add><![CDATA[		if (isset($this->request->post['keyword'])) {
			$this->load->model('catalog/product');

			if (isset($this->request->get['product_id'])) {
				$product_id = $this->request->get['product_id'];
			} else {
				$product_id = '';
			}

			if ($this->model_catalog_product->getUrlAlias($this->request->post['keyword'], 'product', $product_id)) {
				$this->error['keyword_duplicate'] = $this->language->get('error_keyword_duplicate');
			}
		}
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/common/filemanager.php">
		<operation error="log">
			<search position="before"><![CDATA[if (isset($this->request->get['field']))]]></search>
			<add><![CDATA[		if ($this->config->get('aes_filemanager_size')) {
			$dimensions = explode('_', $this->config->get('aes_filemanager_size'));
			
			$height = $dimensions[1];
			
			$this->data['container_height'] = ($height - 60);
			$this->data['column_height'] = ($height - 80);
		} else {
			$this->data['container_height'] = '340';
			$this->data['column_height'] = '320';
		}
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/common/home.php">
		<operation error="log">
			<search position="replace"><![CDATA[$this->language->get('text_latest_10_orders')]]></search>
			<add><![CDATA[sprintf($this->language->get('text_latest_10_orders'), ($this->config->get('aes_latest_orders') ? $this->config->get('aes_latest_orders') : 10));]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[getTotalOrders();]]></search>
			<add><![CDATA[getTotalOrders($data = array('exclude_nonsales' => $this->config->get('aes_sales_status_exclude')));]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA['limit' => 10]]></search>
			<add><![CDATA['limit' => ($this->config->get('aes_latest_orders') ? $this->config->get('aes_latest_orders') : 10)]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[switch ($range)]]></search>
			<add><![CDATA[		if ($this->config->has('aes_sales_status_exclude')) {
			$sql = "NOT IN (0," . $this->db->escape(implode(',', $this->config->get('aes_sales_status_exclude'))) . ")";
		} else {
			$sql = "> '0'";
		}
		]]></add>
		</operation>
		<operation error="skip">
			<search position="before"><![CDATA[$this->template = 'common/home.tpl';]]></search>
			<add><![CDATA[		$this->data['affiliate_url'] = $this->url->link('sale/affiliate', 'filter_approved=0&token=' . $this->session->data['token'], 'SSL');
		$this->data['customer_url'] = $this->url->link('sale/customer', 'filter_approved=0&token=' . $this->session->data['token'], 'SSL');
		$this->data['review_url'] = $this->url->link('catalog/review', '&sort=r.status&order=ASC&token=' . $this->session->data['token'], 'SSL');

		
		$this->data['column_sale_count'] = $this->language->get('column_sale_count'); // AES 1.3.0
		]]></add>
		</operation>
		<operation error="log">
			<!-- 1.5.4.x and earlier:  order_status_id > '0'  -->
			<!-- 1.5.5.x and later  :  order_status_id > '" . (int)$this->config->get('config_complete_status_id') . "'  -->
			<search position="replace" regex="true"><![CDATA[~order_status_id > ('0')|('" \. \(int\)\$this->config->get\('config_complete_status_id'\) \. "')~]]></search>
			<add><![CDATA[order_status_id " . $sql . "]]></add>
		</operation>
		<!-- AES 1.3.0 -->
		<operation error="log">
			<search position="after"><![CDATA[=> $result['status'],]]></search>
			<add><![CDATA[				'sale_count' => ($result['customer_id'] > 0 ? $this->model_sale_order->getTotalOrders($data = array('filter_customer_id' => $result['customer_id'])) : $this->language->get('text_guest')),]]></add>
		</operation>
		<!-- // -->
	</file>
	<file name="admin/controller/design/banner.php">
		<operation error="log">
			<search position="before"><![CDATA[$this->data['banner_images'] = array();]]></search>
			<add><![CDATA[		if ($this->config->get('aes_filemanager_size')) {
			$dimensions = explode('_', $this->config->get('aes_filemanager_size'));
			
			$this->data['filemanager_width'] = $dimensions[0];
			$this->data['filemanager_height'] = $dimensions[1];
		} else {
			$this->data['filemanager_width'] = 800;
			$this->data['filemanager_height'] = 400;
		}
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/sale/customer.php">
		<operation error="log">
			<search position="before"><![CDATA[if (isset($this->error['firstname']))]]></search>
			<add><![CDATA[		if (isset($this->error)) {
			$this->data['error_general_tab'] = true;
		} else {
			$this->data['error_general_tab'] = false;
		}
		]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[$this->load->model('localisation/country');]]></search>
			<add><![CDATA[		$this->data['heading_info'] = '';
		
		if (!empty($this->data['firstname']) && !empty($this->data['lastname'])) {
			$this->data['heading_info'] .= ' &mdash; ' . $this->data['firstname'] . ' ' . $this->data['lastname'];
		}
		
		if (!empty($this->data['email'])) {
			$this->data['heading_info'] .= ' &mdash; ' . $this->data['email'];
		}
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/sale/order.php">
		<operation error="log">
			<search position="after"><![CDATA[$order_status_info =]]></search>
			<add><![CDATA[
			$this->data['heading_info'] = ' &mdash; ' . $order_info['firstname'] . ' ' . $order_info['lastname'] . ' &mdash; #' . $this->request->get['order_id'];

			if ($order_status_info) {
				$this->data['heading_info'] .= ' &mdash; ' . $order_status_info['name'];
			}
			]]></add>
		</operation>
		<!-- AES 1.3.0 -->
		<operation error="log">
			<!-- Multiple Replacements -->
			<search position="after"><![CDATA[$url .= '&filter_order_id=']]></search>
			<add><![CDATA[		}

		if (isset($this->request->get['filter_instructions'])) {
			$url .= '&filter_instructions=' . urlencode(html_entity_decode($this->request->get['filter_instructions'], ENT_QUOTES, 'UTF-8'));
		}

		if (isset($this->request->get['filter_email'])) {
			$url .= '&filter_email=' . urlencode(html_entity_decode($this->request->get['filter_email'], ENT_QUOTES, 'UTF-8'));
		]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[$filter_order_id = null;]]></search>
			<add><![CDATA[		}

		if (isset($this->request->get['filter_instructions'])) {
			$filter_instructions = $this->request->get['filter_instructions'];
		} else {
			$filter_instructions = null;
		}

		if (isset($this->request->get['filter_email'])) {
			$filter_email = $this->request->get['filter_email'];
		} else {
			$filter_email = null;]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[=> $filter_order_id,]]></search>
			<add><![CDATA[			'filter_instructions'         => $filter_instructions,
			'filter_email'           => $filter_email,]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA['status'        => $result['status'],]]></search>
			<add><![CDATA['instructions'  => $result['instructions'],]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[$this->data['sort_date_modified'] =]]></search>
			<add><![CDATA[		$this->data['sort_company'] = $this->url->link('sale/order', 'token=' . $this->session->data['token'] . '&sort=company' . $url, 'SSL');
		$this->data['sort_email'] = $this->url->link('sale/order', 'token=' . $this->session->data['token'] . '&sort=email' . $url, 'SSL');

		$this->data['filter_instructions'] = $filter_instructions;
		$this->data['filter_email'] = $filter_email;

		$this->data['column_company'] = $this->language->get('column_company');
		$this->data['column_email'] = $this->language->get('column_email');]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[=> $result['customer'],]]></search>
			<add><![CDATA[				'company'       => (strtolower($result['payment_company']) == strtolower($result['shipping_company']) ? $result['payment_company'] : implode('<br />', array($result['payment_company'], $result['shipping_company']))),
				'email'         => $result['email'],]]></add>
		</operation>
		<!-- // -->
	</file>
	<file name="admin/controller/sale/voucher_theme.php">
		<operation error="log">
			<search position="before"><![CDATA[$this->template = 'sale/voucher_theme_form.tpl';]]></search>
			<add><![CDATA[		if ($this->config->get('aes_filemanager_size')) {
			$dimensions = explode('_', $this->config->get('aes_filemanager_size'));
			
			$this->data['filemanager_width'] = $dimensions[0];
			$this->data['filemanager_height'] = $dimensions[1];
		} else {
			$this->data['filemanager_width'] = 800;
			$this->data['filemanager_height'] = 400;
		}
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/setting/setting.php">
		<operation error="log">
			<search position="before"><![CDATA[$this->data['button_save']]]></search>
			<add><![CDATA[		// Admin Enhancement Suite
		$this->data['tab_aes'] = $this->language->get('tab_aes');
		$this->data['tab_aes_download'] = $this->language->get('tab_aes_download');
		$this->data['tab_aes_general'] = $this->language->get('tab_aes_general');
		$this->data['tab_aes_product_form'] = $this->language->get('tab_aes_product_form');
		$this->data['tab_aes_product_list'] = $this->language->get('tab_aes_product_list');

		$this->data['text_default'] = $this->language->get('text_default');
		$this->data['text_disabled'] = $this->language->get('text_disabled');
		$this->data['text_enabled'] = $this->language->get('text_enabled');
		$this->data['text_select_all'] = $this->language->get('text_select_all');
		$this->data['text_unselect_all'] = $this->language->get('text_unselect_all');

		$this->data['entry_expanded_autocomplete'] = $this->language->get('entry_expanded_autocomplete');
		$this->data['entry_filemanager_size'] = $this->language->get('entry_filemanager_size');
		$this->data['entry_greedy_autocomplete'] = $this->language->get('entry_greedy_autocomplete');
		$this->data['entry_latest_orders'] = $this->language->get('entry_latest_orders');
		$this->data['entry_order_status_exclusion'] = $this->language->get('entry_order_status_exclusion');
		$this->data['entry_seo_duplicate_check'] = $this->language->get('entry_seo_duplicate_check');
		$this->data['entry_spellcheck_autostart'] = $this->language->get('entry_spellcheck_autostart');

		$this->data['entry_product_list_sort'] = $this->language->get('entry_product_list_sort');
		$this->data['entry_product_list_added_filter'] = $this->language->get('entry_product_list_added_filter');
		$this->data['entry_product_list_category_filter'] = $this->language->get('entry_product_list_category_filter');
		$this->data['entry_product_list_modified_filter'] = $this->language->get('entry_product_list_modified_filter');

		$this->data['entry_default_product_customer_group'] = $this->language->get('entry_default_product_customer_group');
		$this->data['entry_default_product_minimum'] = $this->language->get('entry_default_product_minimum');
                $this->data['entry_default_product_maximum'] = $this->language->get('entry_default_product_maximum');            
		$this->data['entry_default_product_shipping'] = $this->language->get('entry_default_product_shipping');
		$this->data['entry_default_product_subtract'] = $this->language->get('entry_default_product_subtract');
		$this->data['entry_default_product_option_required'] = $this->language->get('entry_default_product_option_required');
		$this->data['entry_default_product_option_subtract'] = $this->language->get('entry_default_product_option_subtract');
		$this->data['entry_default_product_quantity'] = $this->language->get('entry_default_product_quantity');
		$this->data['entry_default_product_status'] = $this->language->get('entry_default_product_status');
		$this->data['entry_default_product_tax_class'] = $this->language->get('entry_default_product_tax_class');

		$this->data['entry_default_download_remaining'] = $this->language->get('entry_default_download_remaining');

		// AES General
		if (isset($this->request->post['aes_greedy_autocomplete'])) {
			$this->data['aes_greedy_autocomplete'] = $this->request->post['aes_greedy_autocomplete'];
		} else {
			$this->data['aes_greedy_autocomplete'] = $this->config->get('aes_greedy_autocomplete');
		}

		if (isset($this->request->post['aes_latest_orders'])) {
			$this->data['aes_latest_orders'] = $this->request->post['aes_latest_orders'];
		} elseif ($this->config->get('aes_latest_orders')) {
			$this->data['aes_latest_orders'] = $this->config->get('aes_latest_orders');
		} else {
			$this->data['aes_latest_orders'] = '10';
		}

		$this->data['filemanager_sizes'] = array(
			array('name' => '900 x 500', 'size' => '900_500'),
			array('name' => '1000 x 600', 'size' => '1000_600'),
			array('name' => '1200 x 650 (Widescreen)', 'size' => '1200_650'),
			array('name' => '1200 x 800', 'size' => '1200_800'),
			array('name' => '1400 x 800 (Widescreen)', 'size' => '1400_800'),
		);

		if (isset($this->request->post['aes_filemanager_size'])) {
			$this->data['aes_filemanager_size'] = $this->request->post['aes_filemanager_size'];
		} else {
			$this->data['aes_filemanager_size'] = $this->config->get('aes_filemanager_size');
		}

		if (isset($this->request->post['aes_spellcheck_autostart'])) {
			$this->data['aes_spellcheck_autostart'] = $this->request->post['aes_spellcheck_autostart'];
		} else {
			$this->data['aes_spellcheck_autostart'] = $this->config->get('aes_spellcheck_autostart');
		}

		$this->load->model('localisation/order_status');
		
		$this->data['order_statuses'] = $this->model_localisation_order_status->getOrderStatuses();
		
		if (isset($this->request->post['aes_sales_status_exclude'])) {
			$this->data['aes_sales_status_exclude'] = $this->request->post['aes_sales_status_exclude'];
		} elseif ($this->config->get('aes_sales_status_exclude')) {
			$this->data['aes_sales_status_exclude'] = $this->config->get('aes_sales_status_exclude');
		} else {
			$this->data['aes_sales_status_exclude'] = array();
		}

		$this->data['sorts'] = array(
			array('name' => $this->language->get('sort_name_asc'), 'sort' => 'pd.name_ASC'),
			array('name' => $this->language->get('sort_name_desc'), 'sort' => 'pd.name_DESC'),
			array('name' => $this->language->get('sort_model_asc'), 'sort' => 'p.model_ASC'),
			array('name' => $this->language->get('sort_model_desc'), 'sort' => 'p.model_DESC'),
			array('name' => $this->language->get('sort_price_asc'), 'sort' => 'p.price_ASC'),
			array('name' => $this->language->get('sort_price_desc'), 'sort' => 'p.price_DESC'),
			array('name' => $this->language->get('sort_quantity_asc'), 'sort' => 'p.quantity_ASC'),
			array('name' => $this->language->get('sort_quantity_desc'), 'sort' => 'p.quantity_DESC')
		);

		if (isset($this->request->post['aes_expanded_autocomplete'])) {
			$this->data['aes_expanded_autocomplete'] = $this->request->post['aes_expanded_autocomplete'];
		} else {
			$this->data['aes_expanded_autocomplete'] = $this->config->get('aes_expanded_autocomplete');
		}

		// AES Product List
		if (isset($this->request->post['aes_product_list_sort'])) {
			$this->data['aes_product_list_sort'] = $this->request->post['aes_product_list_sort'];
		} else {
			$this->data['aes_product_list_sort'] = $this->config->get('aes_product_list_sort');
		}

		if (isset($this->request->post['aes_product_list_added_filter'])) {
			$this->data['aes_product_list_added_filter'] = $this->request->post['aes_product_list_added_filter'];
		} else {
			$this->data['aes_product_list_added_filter'] = $this->config->get('aes_product_list_added_filter');
		}

		if (isset($this->request->post['aes_product_list_category_filter'])) {
			$this->data['aes_product_list_category_filter'] = $this->request->post['aes_product_list_category_filter'];
		} else {
			$this->data['aes_product_list_category_filter'] = $this->config->get('aes_product_list_category_filter');
		}

		if (isset($this->request->post['aes_product_list_modified_filter'])) {
			$this->data['aes_product_list_modified_filter'] = $this->request->post['aes_product_list_modified_filter'];
		} else {
			$this->data['aes_product_list_modified_filter'] = $this->config->get('aes_product_list_modified_filter');
		}

		// AES Default Product
		$this->load->model('localisation/tax_class');

		$this->data['tax_classes'] = $this->model_localisation_tax_class->getTaxClasses();

		if (isset($this->request->post['aes_default_product_tax_class_id'])) {
			$this->data['aes_default_product_tax_class_id'] = $this->request->post['aes_default_product_tax_class_id'];
		} else {
			$this->data['aes_default_product_tax_class_id'] = $this->config->get('aes_default_product_tax_class_id');
		}

		if (isset($this->request->post['aes_default_product_quantity'])) {
			$this->data['aes_default_product_quantity'] = $this->request->post['aes_default_product_quantity'];
		} elseif ($this->config->has('aes_default_product_quantity')) {
			$this->data['aes_default_product_quantity'] = $this->config->get('aes_default_product_quantity');
		} else {
			$this->data['aes_default_product_quantity'] = '1';
		}

		if (isset($this->request->post['aes_default_product_minimum_quantity'])) {
			$this->data['aes_default_product_minimum'] = $this->request->post['aes_default_product_minimum_'];
		} elseif ($this->config->has('aes_default_product_minimum')) {
			$this->data['aes_default_product_minimum'] = $this->config->get('aes_default_product_minimum');
		} else {
			$this->data['aes_default_product_minimum'] = '1';
		}

                if (isset($this->request->post['aes_default_product_maximum'])) {
			$this->data['aes_default_product_maximum'] = $this->request->post['aes_default_product_maximum'];
		} elseif ($this->config->has('aes_default_product_maximum')) {
			 $this->data['aes_default_product_maximum'] = $this->config->get('aes_default_product_maximum');
		} else {
			$this->data['aes_default_product_maximum'] = '10';
		}            
                
		if (isset($this->request->post['aes_default_product_subtract'])) {
			$this->data['aes_default_product_subtract'] = $this->request->post['aes_default_product_subtract'];
		} elseif ($this->config->has('aes_default_product_subtract')) {
			$this->data['aes_default_product_subtract'] = $this->config->get('aes_default_product_subtract');
		} else {
			$this->data['aes_default_product_subtract'] = '1';
		}

		if (isset($this->request->post['aes_default_product_shipping'])) {
			$this->data['aes_default_product_shipping'] = $this->request->post['aes_default_product_shipping'];
		} elseif ($this->config->has('aes_default_product_shipping')) {
			$this->data['aes_default_product_shipping'] = $this->config->get('aes_default_product_shipping');
		} else {
			$this->data['aes_default_product_shipping'] = '1';
		}

		if (isset($this->request->post['aes_default_product_status'])) {
			$this->data['aes_default_product_status'] = $this->request->post['aes_default_product_status'];
		} elseif ($this->config->has('aes_default_product_status')) {
			$this->data['aes_default_product_status'] = $this->config->get('aes_default_product_status');
		} else {
			$this->data['aes_default_product_status'] = '1';
		}

		if (isset($this->request->post['aes_default_product_option_required'])) {
			$this->data['aes_default_product_option_required'] = $this->request->post['aes_default_product_option_required'];
		} elseif ($this->config->has('aes_default_product_option_required')) {
			$this->data['aes_default_product_option_required'] = $this->config->get('aes_default_product_option_required');
		} else {
			$this->data['aes_default_product_option_required'] = '1';
		}

		if (isset($this->request->post['aes_default_product_option_subtract'])) {
			$this->data['aes_default_product_option_subtract'] = $this->request->post['aes_default_product_option_subtract'];
		} elseif ($this->config->has('aes_default_product_option_subtract')) {
			$this->data['aes_default_product_option_subtract'] = $this->config->get('aes_default_product_option_subtract');
		} else {
			$this->data['aes_default_product_option_subtract'] = '1';
		}

		if (isset($this->request->post['aes_default_product_customer_group_id'])) {
			$this->data['aes_default_product_customer_group_id'] = $this->request->post['aes_default_product_customer_group_id'];
		} elseif ($this->config->has('aes_default_product_customer_group_id')) {
			$this->data['aes_default_product_customer_group_id'] = $this->config->get('aes_default_product_customer_group_id');
		} else {
			$this->data['aes_default_product_customer_group_id'] = '0';
		}

		// AES Download Default
		if (isset($this->request->post['aes_default_download_remaining'])) {
			$this->data['aes_default_download_remaining'] = $this->request->post['aes_default_download_remaining'];
		} elseif ($this->config->has('aes_default_download_remaining')) {
			$this->data['aes_default_download_remaining'] = $this->config->get('aes_default_download_remaining');
		} else {
			$this->data['aes_default_download_remaining'] = '1';
		}

		// Filemanager Size for Images tab
		if ($this->config->get('aes_filemanager_size')) {
			$dimensions = explode('_', $this->config->get('aes_filemanager_size'));
			
			$this->data['filemanager_width'] = $dimensions[0];
			$this->data['filemanager_height'] = $dimensions[1];
		} else {
			$this->data['filemanager_width'] = 800;
			$this->data['filemanager_height'] = 400;
		}

		// Miscellaneous
		if (isset($this->request->post['aes_seo_duplicate_check'])) {
			$this->data['aes_seo_duplicate_check'] = $this->request->post['aes_seo_duplicate_check'];
		} elseif ($this->config->has('aes_seo_duplicate_check')) {
			$this->data['aes_seo_duplicate_check'] = $this->config->get('aes_seo_duplicate_check');
		} else {
			$this->data['aes_seo_duplicate_check'] = '1';
		}

		// END AES
		]]></add>
		</operation>
	</file>
	<file name="admin/controller/setting/store.php">
		<operation error="log">
			<search position="before"><![CDATA[$this->load->model('tool/image');]]></search>
			<add><![CDATA[		if ($this->config->get('aes_filemanager_size')) {
			$dimensions = explode('_', $this->config->get('aes_filemanager_size'));
			
			$this->data['filemanager_width'] = $dimensions[0];
			$this->data['filemanager_height'] = $dimensions[1];
		} else {
			$this->data['filemanager_width'] = 800;
			$this->data['filemanager_height'] = 400;
		}
		]]></add>
		</operation>
	</file>
	<file name="admin/language/english/catalog/category.php">
		<operation error="log">
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[
// Admin Enhancement Suite
$_['column_status']           = 'Status';
$_['error_keyword_duplicate'] = 'SEO Keyword already in use!';
$_['text_store_view']         = 'Store Front';]]></add>
		</operation>
	</file>
	<file name="admin/language/english/catalog/information.php">
		<operation error="log">
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[
// Admin Enhancement Suite
$_['column_status']           = 'Status';
$_['error_keyword_duplicate'] = 'SEO Keyword already in use!';
$_['text_store_view']         = 'Store Front';]]></add>
		</operation>
	</file>
	<file name="admin/language/english/catalog/manufacturer.php">
		<operation error="log">
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[
// Admin Enhancement Suite
$_['error_keyword_duplicate'] = 'SEO Keyword already in use!';
$_['text_store_view']         = 'Store Front';]]></add>
		</operation>
	</file>
	<file name="admin/language/english/catalog/product.php">
		<operation error="log">
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[
// Admin Enhancement Suite
$_['column_categories']       = 'Category';
$_['column_date_added']       = 'Date Added';
$_['column_date_modified']    = 'Date Modified';
$_['entry_last_modified']     = 'Last Modified:';
$_['error_keyword_duplicate'] = 'SEO Keyword already in use!';
$_['text_enabled_future']     = 'Enabled (Future)';
$_['text_store_view']         = 'Store Front';]]></add>
		</operation>
	</file>
	<file name="admin/language/*/common/home.php">
		<operation error="log">
			<search position="replace" regex="true"><![CDATA[~\$_\['text_latest_10_orders'\] *= *'(.*)10(.*)';~]]></search>
			<add><![CDATA[$_['text_latest_10_orders']         = '$1%s$2';]]></add>
		</operation>
	</file>
	<file name="admin/language/english/common/home.php">
		<operation error="log">
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[// Admin Enhancement Suite
$_['column_company']                = 'Company';
$_['column_sale_count']             = 'Orders Placed';
$_['text_guest']                    = 'Guest';]]></add>
		</operation>
	</file>
	<file name="admin/language/english/sale/order.php">
		<operation error="log">
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[// Admin Enhancement Suite
$_['column_company'] = 'Company';
$_['column_email']   = 'Email';]]></add>
		</operation>
	</file>
	<file name="admin/language/english/setting/setting.php">
		<operation error="log">
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[
// Admin Enhancement Suite
$_['tab_aes']              = 'Admin Enhancement Suite';
$_['tab_aes_download']     = 'Download Defaults';
$_['tab_aes_general']      = 'General';
$_['tab_aes_product_form'] = 'Product Form Defaults';
$_['tab_aes_product_list'] = 'Product List';

$_['text_default']         = 'Default';
$_['text_disabled']        = 'Disabled';
$_['text_enabled']         = 'Enabled';
$_['text_select_all']      = 'Select All';
$_['text_unselect_all']    = 'Select None';

$_['entry_expanded_autocomplete']  = 'Product Autocomplete Expanded:<br /><span class="help">Include the product model when using product autocomplete (related products, featured, coupons, etc.)</span>';
$_['entry_filemanager_size']       = 'Filemanager Size:<br /><span class="help">Default size 800 x 400</span>';
$_['entry_greedy_autocomplete']    = 'Autocomplete Match Anywhere:<br /><span class="help">Match words anywhere in a phrase when using autocomplete or filtering (e.g. "touch" will match "HTC Touch HD")</span>';
$_['entry_latest_orders']          = 'Latest Orders Limit:<br /><span class="help">The number of orders to show in Dashboard \'Latest Orders\' (default \'10\')</span>';
$_['entry_order_status_exclusion'] = 'Order Status Sales Exclusion:<br /><span class="help">Orders statuses not to include when reporting sales statistics (Dashboard Overview and Statistics, Reports)</span>';
$_['entry_seo_duplicate_check']    = 'SEO Keyword Duplicate Check:<br /><span class="help">Check that SEO Keywords are not duplicated to ensure the correct product, category, information, and manufacturer page is always shown</span>';
$_['entry_spellcheck_autostart']   = 'Spellcheck Autostart:<br /><span class="help">Autostart spellcheck in CKEditor (English only)</span>';

$_['entry_product_list_sort']               = 'Sort Order:<br /><span class="help">Default \'Name (A - Z)\'</span>';
$_['entry_product_list_added_filter']       = 'Date Added:<br /><span class="help">Add product Date Added to product list filtering and sorting</span>';
$_['entry_product_list_category_filter']    = 'Category:<br /><span class="help">Add product Category to product list filtering and sorting</span>';
$_['entry_product_list_modified_filter']    = 'Date Modified:<br /><span class="help">Add product Date Modified to product list filtering and sorting</span>';

$_['entry_default_product_customer_group']  = 'Customer Group:<br /><span class="help">Default customer group for discounts and specials</span>';
$_['entry_default_product_minimum']         = 'Minimum Quantity:';
$_['entry_default_product_maximum']    = 'Maximum Quantity:<br /><span class="help">Maximum quantity a product can be ordered in one time</span>';                            
$_['entry_default_product_option_required'] = 'Option Required:<br /><span class="help">New product options are added as \'Required\' (default \'Yes\')</span>';
$_['entry_default_product_option_subtract'] = 'Option Value Subtract Stock:<br /><span class="help">New product option values are added as \'Subtract\' stock (default \'Yes\')</span>';
$_['entry_default_product_quantity']        = 'Quantity:';
$_['entry_default_product_shipping']        = 'Requires Shipping:';
$_['entry_default_product_status']          = 'Status:';
$_['entry_default_product_subtract']        = 'Subtract Stock:';
$_['entry_default_product_tax_class']       = 'Tax Class:';

$_['entry_default_download_remaining']      = 'Total Downloads Allowed:<br /><span class="help">Default \'1\'</span>';

$_['sort_name_asc']      = 'Name (A - Z)';
$_['sort_name_desc']     = 'Name (Z - A)';
$_['sort_model_asc']     = 'Model (A - Z)';
$_['sort_model_desc']    = 'Model (Z - A)';
$_['sort_price_asc']     = 'Price (Low > High)';
$_['sort_price_desc']    = 'Price (High > Low)';
$_['sort_quantity_asc']  = 'Quantity (Low > High)';
$_['sort_quantity_desc'] = 'Quantity (High > Low)';]]></add>
		</operation>
	</file>
	<file name="admin/language/*/*.php">
		<operation error="log">
			<!-- Try to account for language translations which may use double quotes instead of single quotes -->
			<search position="replace" regex="true"><![CDATA[~\$_\['text_disabled'\][\s\t]*=[\s\t]*['"]{1}(.*)['"]{1};~]]></search>
			<add><![CDATA[$_['text_disabled']                 = '<span style="color: red;">$1</span>';]]></add>
		</operation>
	</file>
	<file name="admin/model/catalog/category.php">
		<!-- OpenCart 1.5.5.x -->
		<operation error="skip">
			<search position="replace"><![CDATA[c.parent_id, c.sort_order]]></search>
			<add><![CDATA[c.parent_id, c.sort_order, c.status]]></add>
		</operation>
		<!-- // -->
	</file>
	<file name="admin/model/catalog/product.php">
		<!-- Replaces in getProducts and getTotalProducts -->
		<operation error="log">
			<!-- Name Filter - Greedy matching -->
			<!-- 1.5.5.x: $sql .= " AND pd.name LIKE '" . $this->db->escape($data['filter_name']) . "%'"; -->
			<!-- 1.5.2.x: $sql .= " AND LCASE(pd.name) LIKE '" . $this->db->escape(utf8_strtolower($data['filter_name'])) . "%'"; -->
			<!-- 1.5.1.x: $sql .= " AND LCASE(pd.name) LIKE '" . $this->db->escape(mb_strtolower($data['filter_name'], 'UTF-8')) . "%'"; -->
			<search position="replace" regex="true"><![CDATA[~" AND ([LCASE\(]*pd.name[\)]*) LIKE '"~]]></search>
			<add><![CDATA[" AND $1 LIKE '" . ($this->config->get('aes_greedy_autocomplete') ? '%' : '')]]></add>
		</operation>
		<operation error="log">
			<!-- Model Filter - Greedy matching -->
			<!-- 1.5.5.x: $sql .= " AND p.model LIKE '" . $this->db->escape($data['filter_model']) . "%'"; -->
			<!-- 1.5.2.x: $sql .= " AND LCASE(p.model) LIKE '" . $this->db->escape(utf8_strtolower($data['filter_model'])) . "%'"; -->
			<!-- 1.5.1.x: $sql .= " AND LCASE(p.model) LIKE '" . $this->db->escape(mb_strtolower($data['filter_model'], 'UTF-8')) . "%'"; -->
			<search position="replace" regex="true"><![CDATA[~" AND ([LCASE\(]*p.model[\)]*) LIKE '"~]]></search>
			<add><![CDATA[(!empty($data['filter_aes_model']) ? " OR " : " AND ") . "$1 LIKE '" . ($this->config->get('aes_greedy_autocomplete') ? '%' : '')]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[$sql .= " AND p.status = '" . (int)$data['filter_status'] . "'";]]></search>
			<add><![CDATA[if ($data['filter_status'] == 2) {
					$sql .= " AND p.status = '1' AND p.date_available > NOW()";
				} else {
					$sql .= " AND p.status = '" . (int)$data['filter_status'] . "'";
				}]]></add>
		</operation>
		<!-- @TODO: Case insensitive sorting -->
		<!--<operation error="log">
			<search position="replace"><![CDATA[$sql .= " ORDER BY " . $data['sort'];]]></search>
			<add><![CDATA[$sql .= " ORDER BY LCASE(" . $data['sort'] . ")";]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[$sql .= " ORDER BY pd.name";]]></search>
			<add><![CDATA[$sql .= " ORDER BY LCASE(pd.name)";]]></add>
		</operation>-->
		<!-- // -->
		<!-- @TODO: Disable option -->
		<operation error="log">
			<search position="before"><![CDATA[public function getTotalProductsByLayoutId]]></search>
			<add><![CDATA[	public function getUrlAlias($alias, $type, $id = false) {
		if ($this->config->has('aes_seo_duplicate_check') && $this->config->get('aes_seo_duplicate_check') == 0) {
			return false;
		}

		if ($id && $type) {
			if ($type == 'product') {
				$query = 'product_id=' . $id;
			} elseif ($type == 'category') {
				$query = 'category_id=' . $id;
			} elseif ($type == 'manufacturer') {
				$query = 'manufacturer_id=' . $id;
			} elseif ($type == 'information') {
				$query = 'information_id=' . $id;
			} else {
				$query = '';
			}
		} else {
			$query = '';
		}

		$url_alias_query = $this->db->query("SELECT * FROM `" . DB_PREFIX . "url_alias` WHERE keyword = '" . $this->db->escape($alias) . "' AND query <> '" . $this->db->escape($query) . "'");

		if ($url_alias_query->rows) {
			return true;
		} else {
			return false;
		}
	}

	public function getProductCategoriesDescriptions($product_id) {
		$product_category_data = array();

		$query = $this->db->query("SELECT * FROM " . DB_PREFIX . "product_to_category p2c LEFT JOIN " . DB_PREFIX . "category_description cd ON (p2c.category_id = cd.category_id AND cd.language_id = '" . $this->config->get('config_language_id') . "') WHERE p2c.product_id = '" . (int)$product_id . "' ORDER BY cd.name ASC");

		foreach ($query->rows as $result) {
			$product_category_data[] = $result['name'];
		}

		return $product_category_data;
	}
	]]></add>
		</operation>
		<!-- AES 1.3.0 -->
		<operation error="log">
			<!-- Two additions: getProducts() and getTotalProducts() -->
			<search position="before"><![CDATA[if (!empty($data['filter_name'])) {]]></search>
			<add><![CDATA[		if (!empty($data['filter_date_added'])) {
			$sql .= " AND p.date_added >= '" . $this->db->escape($data['filter_date_added']) . "' AND p.date_added < DATE_ADD('" . $this->db->escape($data['filter_date_added']) . "', INTERVAL 1 DAY)";
		}

		if (!empty($data['filter_date_modified'])) {
			$sql .= " AND p.date_modified >= '" . $this->db->escape($data['filter_date_modified']) . "' AND p.date_modified < DATE_ADD('" . $this->db->escape($data['filter_date_modified']) . "', INTERVAL 1 DAY)";
		}
		
		if (!empty($data['filter_category_id'])) {
			$sql .= " AND p2c.category_id = '" . $this->db->escape($data['filter_category_id']) . "'";
		}
		]]></add>
		</operation>
		<operation error="log">
			<!-- Price ranges -->
			<!-- Two changes: getProducts() and getTotalProducts() -->
			<search position="replace"><![CDATA[$sql .= " AND p.price LIKE '" . $this->db->escape($data['filter_price']) . "%'";]]></search>
			<add><![CDATA[if (strstr($data['filter_price'], '-')) {
				$ranges = explode('-', $data['filter_price']);

				if (count($ranges) == 2) {
					$start = trim($ranges[0]);
					$end = trim($ranges[1]);

					$sql .= " AND p.price >= '" . (float)$start . "' AND p.price <= '" . (float)$end . "'";
				} else {
					$sql .= " AND p.price LIKE '" . $this->db->escape($data['filter_price']) . "%'";
				}
			} else {
				$sql .= " AND p.price LIKE '" . $this->db->escape($data['filter_price']) . "%'";
			}]]></add>
		</operation>
		<operation error="log">
			<!-- Quantity ranges -->
			<!-- Two changes: getProducts() and getTotalProducts() -->
			<search position="replace"><![CDATA[$sql .= " AND p.quantity = '" . $this->db->escape($data['filter_quantity']) . "'";]]></search>
			<add><![CDATA[if (strstr($data['filter_quantity'], '-')) {
				$ranges = explode('-', $data['filter_quantity']);

				if (count($ranges) == 2) {
					$start = trim($ranges[0]);
					$end = trim($ranges[1]);

					$sql .= " AND p.quantity >= '" . (int)$start . "' AND p.quantity <= '" . (int)$end . "'";
				} else {
					$sql .= " AND p.quantity = '" . $this->db->escape($data['filter_quantity']) . "'";
				}
			} else {
				$sql .= " AND p.quantity = '" . $this->db->escape($data['filter_quantity']) . "'";
			}]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA['p.status',]]></search>
			<add><![CDATA[			'p.date_added',
			'p.date_modified',]]></add>
		</operation>
		<!-- // -->
	</file>
	<file name="admin/model/sale/order.php">
		<operation error="log">
			<search position="after"><![CDATA[$sql .= " WHERE order_status_id = '" . (int)$data['filter_order_status_id'] . "'";]]></search>
			<add><![CDATA[		} elseif (isset($data['exclude_nonsales'])) {
			$sql .= " WHERE order_status_id NOT IN (0," . implode(',', $data['exclude_nonsales']) . ")";]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[$query = $this->db->query("SELECT SUM(total) AS total FROM `" . DB_PREFIX . "order` WHERE order_status_id > '0'");]]></search>
			<add><![CDATA[if ($this->config->has('aes_sales_status_exclude')) {
			$sql = "NOT IN (0," . $this->db->escape(implode(',', $this->config->get('aes_sales_status_exclude'))) . ")";
		} else {
			$sql = "> '0'";
		}

		$query = $this->db->query("SELECT SUM(total) AS total FROM `" . DB_PREFIX . "order` WHERE order_status_id " . $sql);]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[$query = $this->db->query("SELECT SUM(total) AS total FROM `" . DB_PREFIX . "order` WHERE order_status_id > '0' AND YEAR(date_added) = '" . (int)$year . "'");]]></search>
			<add><![CDATA[if ($this->config->has('aes_sales_status_exclude')) {
			$sql = "NOT IN (0," . $this->db->escape(implode(',', $this->config->get('aes_sales_status_exclude'))) . ")";
		} else {
			$sql = "> '0'";
		}
	
		$query = $this->db->query("SELECT SUM(total) AS total FROM `" . DB_PREFIX . "order` WHERE order_status_id " . $sql . " AND YEAR(date_added) = '" . (int)$year . "'");]]></add>
		</operation>
		<!-- AES 1.3.0 -->
		<operation error="log">
			<search position="replace"><![CDATA[SELECT o.order_id,]]></search>
			<add><![CDATA[SELECT o.order_id, email, payment_company, shipping_company, o.customer_id,]]></add>
		</operation>
		<operation error="log">
			<!-- Two additions: getOrders() and getTotalOrders() -->
			<search position="before"><![CDATA[if (!empty($data['filter_order_id']))]]></search>
			<add><![CDATA[		if (!empty($data['filter_customer_id'])) {
			$sql .= " AND customer_id = '" . (int)$data['filter_customer_id'] . "'";
		}

		if (!empty($data['filter_instructions'])) {
			$sql .= " AND (instructions LIKE '%" . $this->db->escape($data['filter_instructions']) . "%' OR shipping_company LIKE '%" . $this->db->escape($data['filter_instructions']) . "%')";
		}

		if (!empty($data['filter_email'])) {
			$sql .= " AND email LIKE '%" . $this->db->escape($data['filter_email']) . "%'";
		}
		]]></add>
		</operation>
		<operation error="log">
			<!-- Order Total ranges -->
			<!-- Two changes: getOrders() and getTotalOrders() -->
			<search position="replace" regex="true"><![CDATA[~\$sql \.= " AND ([o\.]*)total = '" . \(float\)\$data\['filter_total'\] \. "'";~]]></search>
			<add><![CDATA[if (strstr($data['filter_total'], '-')) {
				$ranges = explode('-', $data['filter_total']);

				if (count($ranges) == 2) {
					$start = trim($ranges[0]);
					$end = trim($ranges[1]);

					$sql .= " AND $1total >= '" . (float)$start . "' AND $1total <= '" . (float)$end . "'";
				} else {
					$sql .= " AND $1total = '" . (float)$data['filter_total'] . "'";
				}
			} else {
				$sql .= " AND $1total = '" . (float)$data['filter_total'] . "'";
			}]]></add>
		</operation>
		<operation error="log">
			<!-- Sorting array -->
			<search position="after"><![CDATA['o.order_id',]]></search>
			<add><![CDATA[			'email',]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[$sql .= " ORDER BY " . $data['sort'];]]></search>
			<add><![CDATA[		} elseif (isset($data['sort']) && $data['sort'] == 'company') {
			if (isset($data['order']) && ($data['order'] == 'DESC')) {
				$sql .= " ORDER BY payment_company DESC, shipping_company";
			} else {
				$sql .= " ORDER BY payment_company ASC, shipping_company";
			}]]></add>
		</operation>
		<!-- // -->
	</file>
	<file path="admin/view/template/catalog/" name="product_form.tpl,review_form.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[filter_name=' +  encodeURIComponent( '%'+request.term)]]></search>
			<add><![CDATA[filter_name=' +  encodeURIComponent(request.term) + '&aes_model=true']]></add>
		</operation>
	</file>
	<file name="admin/view/template/catalog/*_list.tpl">
		<!-- Replacements in: attribute_group_list.tpl, attribute_list.tpl, category_list.tpl*, download_list.tpl
			 information_list.tpl*, manufacturer_list.tpl, option_list.tpl, product_list.tpl*, review_list.tpl.
			 *Addition changes required to file -->
		<operation error="skip">
			<!-- Added matching to <td> because there were issues with product_list.tpl matching to image alt text -->
			<search position="replace" regex="true"><![CDATA[~<td class="left"><\?php echo (\$[a-z_]*)\['(name|title)'\]; \?></td>~]]></search>
			<add><![CDATA[<td class="left"><a href="<?php echo $1['action'][0]['href']; ?>" class="quick-link"><?php echo $1['$2']; ?></a></td>]]></add>
		</operation>
	</file>
	<file path="admin/view/template/catalog/" name="category_form.tpl,information_form.tpl,manufacturer_form.tpl,product_form.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $button_cancel; ?></a>]]></search>
			<add><![CDATA[<?php echo $button_cancel; ?></a><?php if ($store_view) { ?><a onclick="window.open('<?php echo $store_view; ?>');" class="button"><?php echo $text_store_view; ?></a><?php } ?>]]></add>
		</operation>
	</file>
	<file path="admin/view/template/catalog/" name="category_form.tpl,manufacturer_form.tpl,option_form.tpl,product_form.tpl">
		<operation error="skip">
			<search position="replace"><![CDATA[width: 800,]]></search>
			<add><![CDATA[width: <?php echo $filemanager_width; ?>,]]></add>
		</operation>
		<operation error="skip">
			<search position="replace"><![CDATA[height: 400,]]></search>
			<add><![CDATA[height: <?php echo $filemanager_height; ?>,]]></add>
		</operation>
	</file>
	<file name="admin/view/template/catalog/category_form.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $heading_title; ?>]]></search>
			<add><![CDATA[<?php echo $heading_title; ?><?php echo $heading_info; ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[a href="#tab-general"]]></search>
			<add><![CDATA[a href="#tab-general" <?php if ($error_general_tab) { echo 'style="color: red;"'; } ?> ]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[a href="#tab-data"]]></search>
			<add><![CDATA[a href="#tab-data" <?php if ($error_data_tab) { echo 'style="color: red;"'; } ?> ]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<input type="text" name="keyword" value="<?php echo $keyword; ?>" />]]></search>
			<add><![CDATA[<input type="text" name="keyword" value="<?php echo $keyword; ?>" />
              <?php if ($error_keyword_duplicate) { ?>
              <span class="error"><?php echo $error_keyword_duplicate; ?></span>
              <?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[filebrowserBrowseUrl:]]></search>
			<add><![CDATA[	toolbar: 'Full',
	<?php if ($this->config->get('aes_spellcheck_autostart') && $language['code'] == 'en') { ?>
	scayt_autoStartup: true,
	<?php } ?>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/catalog/category_list.tpl">
		<operation error="log">
			<search position="after"><![CDATA[<?php echo $column_sort_order; ?>]]></search>
			<add><![CDATA[              <td class="right"><?php echo $column_status; ?></td>]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[<?php echo $category['sort_order']; ?>]]></search>
			<add><![CDATA[              <td class="right"><?php echo $category['status']; ?></td>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/catalog/information_form.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $heading_title; ?>]]></search>
			<add><![CDATA[<?php echo $heading_title; ?><?php echo $heading_info; ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[a href="#tab-general"]]></search>
			<add><![CDATA[a href="#tab-general" <?php if ($error_general_tab) { echo 'style="color: red;"'; } ?> ]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[a href="#tab-data"]]></search>
			<add><![CDATA[a href="#tab-data" <?php if ($error_data_tab) { echo 'style="color: red;"'; } ?> ]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<input type="text" name="keyword" value="<?php echo $keyword; ?>" />]]></search>
			<add><![CDATA[<input type="text" name="keyword" value="<?php echo $keyword; ?>" />
              <?php if ($error_keyword_duplicate) { ?>
              <span class="error"><?php echo $error_keyword_duplicate; ?></span>
              <?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[filebrowserBrowseUrl:]]></search>
			<add><![CDATA[	toolbar: 'Full',
	<?php if ($this->config->get('aes_spellcheck_autostart') && $language['code'] == 'en') { ?>
	scayt_autoStartup: true,
	<?php } ?>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/catalog/information_list.tpl">
		<operation error="log">
			<search position="before"><![CDATA[<?php echo $column_action; ?>]]></search>
			<add><![CDATA[                <td class="right"><?php echo $column_status; ?></td>]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[<?php echo $information['sort_order']; ?>]]></search>
			<add><![CDATA[              <td class="right"><?php echo $information['status']; ?></td>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/catalog/manufacturer_form.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<input type="text" name="keyword" value="<?php echo $keyword; ?>" />]]></search>
			<add><![CDATA[<input type="text" name="keyword" value="<?php echo $keyword; ?>" />
              <?php if ($error_keyword_duplicate) { ?>
              <span class="error"><?php echo $error_keyword_duplicate; ?></span>
              <?php } ?>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/catalog/product_list.tpl">
		<!-- This operation must go first so following replacement doesn't cause conflicts -->
		<operation error="log">
			<search position="after"><![CDATA[<option value="1"><?php echo $text_enabled; ?></option>]]></search>
			<add><![CDATA[				  <option value="2"><?php echo $text_enabled_future; ?></option>]]></add>
		</operation>
		<!-- // -->
		<operation error="log">
			<search position="replace"><![CDATA[<option value="1" selected="selected"><?php echo $text_enabled; ?></option>]]></search>
			<add><![CDATA[<?php if ($filter_status == 2) { ?>
                  <option value="1"><?php echo $text_enabled; ?></option>
                  <option value="2" selected="selected"><?php echo $text_enabled_future; ?></option>
                  <?php } else { ?>
                  <option value="1" selected="selected"><?php echo $text_enabled; ?></option>
                  <option value="2"><?php echo $text_enabled_future; ?></option>
                  <?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $product['status']; ?>]]></search>
			<add><![CDATA[<?php if (!$product['active']) { ?>
                <span style="color: red;"><?php echo $product['status']; ?></span>
                <?php } elseif ($product['date_available'] > date('Y-m-d')) { ?>
                <span style="color: purple;"><?php echo $product['status']; ?> (<?php echo $product['date_available']; ?>)</span>
                <?php } else { ?>
                <?php echo $product['status']; ?>
                <?php } ?>]]></add>
		</operation>
		<!-- AES 1.3.0 -->
		<!-- Columns -->
		<operation error="log">
			<search position="before"><![CDATA[$sort == 'p.price']]></search>
			<add><![CDATA[              <?php if ($categories_column) { ?>
              <td class="left"><?php echo $column_categories; ?></td>
              <?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[<?php echo $column_action; ?>]]></search>
			<add><![CDATA[              <?php if ($date_added_column) { ?>
              <td class="left"><?php if ($sort == 'p.date_added') { ?>
                <a href="<?php echo $sort_date_added; ?>" class="<?php echo strtolower($order); ?>"><?php echo $column_date_added; ?></a>
                <?php } else { ?>
                <a href="<?php echo $sort_date_added; ?>"><?php echo $column_date_added; ?></a>
                <?php } ?></td>
              <?php } ?>
              <?php if ($date_modified_column) { ?>
              <td class="left"><?php if ($sort == 'p.date_modified') { ?>
                <a href="<?php echo $sort_date_modified; ?>" class="<?php echo strtolower($order); ?>"><?php echo $column_date_modified; ?></a>
                <?php } else { ?>
                <a href="<?php echo $sort_date_modified; ?>"><?php echo $column_date_modified; ?></a>
                <?php } ?></td>
              <?php } ?>]]></add>
		</operation>
		<!-- Filters -->
		<operation error="log">
			<search position="before"><![CDATA[<?php echo $filter_price; ?>]]></search>
			<add><![CDATA[              <?php if ($categories_column) { ?>
              <td><select name="filter_category_id">
                  <option value="*"></option>
                  <?php foreach ($categories as $category) { ?>
                  <?php if ($category['category_id'] == $filter_category_id) { ?>
                  <option value="<?php echo $category['category_id']; ?>" selected="selected"><?php echo $category['name']; ?></option>
                  <?php } else { ?>
                  <option value="<?php echo $category['category_id']; ?>"><?php echo $category['name']; ?></option>
                  <?php } ?>
                  <?php } ?>
                </select></td>
              <?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[<?php echo $button_filter; ?>]]></search>
			<add><![CDATA[              <?php if ($date_added_column) { ?>
              <td align="left"><input type="text" name="filter_date_added" value="<?php echo $filter_date_added; ?>" size="10" class="date"/></td>
              <?php } ?>
              <?php if ($date_modified_column) { ?>
              <td align="left"><input type="text" name="filter_date_modified" value="<?php echo $filter_date_modified; ?>" size="10" class="date"/></td>
              <?php } ?>]]></add>
		</operation>
		<!-- Product Values -->
		<operation error="log">
			<search position="after"><![CDATA[<?php echo $product['model']; ?>]]></search>
			<add><![CDATA[              <?php if ($categories_column) { ?>
              <td class="left">
                <?php foreach ($product['categories'] as $category) { ?>
                  <?php echo $category; ?><br />
                <?php } ?>
              </td>
              <?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[$product['action'] as $action]]></search>
			<add><![CDATA[              <?php if ($date_added_column) { ?>
              <td class="left"><?php echo $product['date_added']; ?></td>
              <?php } ?>
              <?php if ($date_modified_column) { ?>
              <td class="left"><?php echo $product['date_modified']; ?></td>
              <?php } ?>]]></add>
		</operation>
		<!-- Javascript -->
		<operation error="log">
			<search position="before"><![CDATA[var filter_status]]></search>
			<add><![CDATA[	<?php if ($categories_column) { ?>
		var filter_date_added = $('input[name=\'filter_date_added\']').attr('value');

		if (filter_date_added) {
			url += '&filter_date_added=' + encodeURIComponent(filter_date_added);
		}
	<?php } ?>

	<?php if ($date_modified_column) { ?>
		var filter_date_modified = $('input[name=\'filter_date_modified\']').attr('value');
		
		if (filter_date_modified) {
			url += '&filter_date_modified=' + encodeURIComponent(filter_date_modified);
		}
	<?php } ?>

	<?php if ($date_added_column) { ?>
		var filter_category_id = $('select[name=\'filter_category_id\']').attr('value');

		if (filter_category_id != '*') {
			url += '&filter_category_id=' + encodeURIComponent(filter_category_id);
		}
	<?php } ?>
	]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[<?php echo $footer; ?>]]></search>
			<add><![CDATA[<script type="text/javascript"><!--
$('.date').datepicker({dateFormat: 'yy-mm-dd'});
//--></script> ]]></add>
		</operation>
		<!-- No Results -->
		<operation error="log">
			<search position="replace" regex="true"><![CDATA[~<td class="center" colspan="([0-9]*)">~]]></search>
			<add><![CDATA[<td class="center" colspan="<?php echo ($1 + $categories_column + $date_modified_column + $date_added_column); ?>">]]></add>
		</operation>
		<!-- // -->
	</file>
	<file name="admin/view/template/catalog/product_form.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $heading_title; ?>]]></search>
			<add><![CDATA[<?php echo $heading_title; ?><?php echo $heading_info; ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[a href="#tab-general"]]></search>
			<add><![CDATA[a href="#tab-general" <?php if ($error_general_tab) { echo 'style="color: red;"'; } ?> ]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[a href="#tab-data"]]></search>
			<add><![CDATA[a href="#tab-data" <?php if ($error_data_tab) { echo 'style="color: red;"'; } ?> ]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $tab_attribute; ?>]]></search>
			<add><![CDATA[<?php echo $tab_attribute; ?> <?php if (!empty($product_attributes)) { ?>(<?php echo count($product_attributes); ?>)<?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $tab_option; ?>]]></search>
			<add><![CDATA[<?php echo $tab_option; ?> <?php if (!empty($product_options)) { ?>(<?php echo count($product_options); ?>)<?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $tab_discount; ?>]]></search>
			<add><![CDATA[<?php echo $tab_discount; ?> <?php if (!empty($product_discounts)) { ?>(<?php echo count($product_discounts); ?>)<?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $tab_special; ?>]]></search>
			<add><![CDATA[<?php echo $tab_special; ?> <?php if (!empty($product_specials)) { ?>(<?php echo count($product_specials); ?>)<?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $tab_image; ?>]]></search>
			<add><![CDATA[<?php echo $tab_image; ?> <?php if (!empty($product_images)) { ?>(<?php echo count($product_images); ?>)<?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<input type="text" name="keyword" value="<?php echo $keyword; ?>" />]]></search>
			<add><![CDATA[<input type="text" name="keyword" value="<?php echo $keyword; ?>" />
              <?php if ($error_keyword_duplicate) { ?>
              <span class="error"><?php echo $error_keyword_duplicate; ?></span>
              <?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[name="date_available"]]></search>
			<add><![CDATA[            </tr>
            <tr>
              <td><?php echo $entry_last_modified; ?></td>
              <td><?php echo $last_modified; ?></td>]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[filebrowserBrowseUrl:]]></search>
			<add><![CDATA[	toolbar: 'Full',
	<?php if ($this->config->get('aes_spellcheck_autostart') && $language['code'] == 'en') { ?>
	scayt_autoStartup: true,
	<?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace" offset="2"><![CDATA[<td><select name="product_option[' + option_row + '][required]">';]]></search>
			<add><![CDATA[<td><select name="product_option[' + option_row + '][required]">';
		<?php if (!$option_required) { ?>
		html += '         <option value="1"><?php echo $text_yes; ?></option>';
		html += '         <option value="0" selected="selected"><?php echo $text_no; ?></option>';
		<?php } else { ?>
		html += '         <option value="1" selected="selected"><?php echo $text_yes; ?></option>';
		html += '         <option value="0"><?php echo $text_no; ?></option>';
		<?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace" offset="2"><![CDATA[<td class="left"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][subtract]">';]]></search>
			<add><![CDATA[<td class="left"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][subtract]">';
	<?php if (!$option_subtract) { ?>
	html += '      <option value="1"><?php echo $text_yes; ?></option>';
	html += '      <option value="0" selected="selected"><?php echo $text_no; ?></option>';
	<?php } else { ?>
	html += '      <option value="1" selected="selected"><?php echo $text_yes; ?></option>';
	html += '      <option value="0"><?php echo $text_no; ?></option>';
	<?php } ?>]]></add>
		</operation>
		<operation error="log">
			<!-- Two replacements, discount and special add row -->
			<search position="replace"><![CDATA[html += '      <option value="<?php echo $customer_group['customer_group_id']; ?>"><?php echo $customer_group['name']; ?></option>';]]></search>
			<add><![CDATA[html += '      <option value="<?php echo $customer_group['customer_group_id']; ?>" <?php if ($customer_group['customer_group_id'] == $default_customer_group) { ?>selected="selected"<?php } ?> ><?php echo $customer_group['name']; ?></option>';]]></add>
		</operation>
		<operation error="">
			<search position=""><![CDATA[]]></search>
			<add><![CDATA[]]></add>
		</operation>
	</file>
	<file name="admin/view/template/common/filemanager.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[height: 340px;]]></search>
			<add><![CDATA[height: <?php echo $container_height; ?>px;]]></add>
		</operation>
		<operation error="log">
			<!-- Replaces two instances -->
			<search position="replace"><![CDATA[height: 320px;]]></search>
			<add><![CDATA[height: <?php echo $column_height; ?>px;]]></add>
		</operation>
	</file>
	<file name="admin/view/template/common/header.tpl">
		<operation error="log">
			<search position="before"><![CDATA[<?php foreach ($links as $link) { ?>]]></search>
			<add><![CDATA[<style type="text/css">
a.quick-link:link {text-decoration: none;}
a.quick-link:visited {text-decoration: none;}
a.quick-link:hover {text-decoration: underline; font-color: blue;}
a.quick-link:active {text-decoration: underline;}
</style>]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[</head>]]></search>
			<add><![CDATA[<script type="text/javascript">
$(document).ready(function() {
	$('.list tbody tr:even td').css('background-color', '#f4f4f8');
	$('.list tbody tr').hover(function() {
		$(this).children('td').css('background-color', '#ffffcb');
	}, function() {
		$(this).children('td').css('background-color', '#ffffff');
		$('.list tbody tr:even td').css('background-color', '#f4f4f8');
	});
});
</script>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/common/home.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $order['customer']; ?>]]></search>
			<add><![CDATA[<a href="<?php echo $order['action'][0]['href']; ?>" class="quick-link"><?php echo $order['customer']; ?></a>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $text_total_customer_approval; ?>]]></search>
			<add><![CDATA[<?php if ($total_customer_approval > 0) { ?><a href="<?php echo $customer_url; ?>" class="quick-link"><?php echo str_replace(':', '', $text_total_customer_approval); ?></a>:<?php } else { ?><?php echo $text_total_customer_approval; ?><?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $text_total_review_approval; ?>]]></search>
			<add><![CDATA[<?php if ($total_review_approval > 0) { ?><a href="<?php echo $review_url; ?>" class="quick-link"><?php echo str_replace(':', '', $text_total_review_approval); ?></a>:<?php } else { ?><?php echo $text_total_review_approval; ?><?php } ?>]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $text_total_affiliate_approval; ?>]]></search>
			<add><![CDATA[<?php if ($total_affiliate_approval > 0) { ?><a href="<?php echo $affiliate_url; ?>" class="quick-link"><?php echo str_replace(':', '', $text_total_affiliate_approval); ?></a>:<?php } else { ?><?php echo $text_total_affiliate_approval; ?><?php } ?>]]></add>
		</operation>
		<!-- AES 1.3.0 -->
		<operation error="log">
			<search position="after"><![CDATA[<?php echo $column_order; ?>]]></search>
			<add><![CDATA[                <td class="center"><?php echo $column_sale_count; ?></td>]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[<?php echo $order['order_id']; ?>]]></search>
			<add><![CDATA[                <td class="center"><?php echo $order['sale_count']; ?></td>]]></add>
		</operation>
		
		<operation error="log">
			<search position="replace" regex="true"><![CDATA[~<td class="center" colspan="([0-9]*)">~]]></search>
			<add><![CDATA[<td class="center" colspan="<?php echo ($1 + 2); ?>">]]></add>
		</operation>
		<!-- // -->
	</file>
	<file name="admin/view/template/design/*_list.tpl">
		<!-- Replacements in: banner_list.tpl, layout_list.tpl -->
		<operation error="skip">
			<search position="replace" regex="true"><![CDATA[~<\?php echo (\$[a-z_]*)\['(name|title)'\]; \?>~]]></search>
			<add><![CDATA[<a href="<?php echo $1['action'][0]['href']; ?>" class="quick-link"><?php echo $1['$2']; ?></a>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/design/banner_form.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[width: 700,]]></search>
			<add><![CDATA[width: <?php echo $filemanager_width; ?>,]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[height: 400,]]></search>
			<add><![CDATA[height: <?php echo $filemanager_height; ?>,]]></add>
		</operation>
	</file>
	<file name="admin/view/template/localisation/*_list.tpl">
		<!-- Replacements in: country_list.tpl, currency_list.tpl, geo_zone_list.tpl, language_list.tpl, length_class_list.tpl,
			 order_status_list.tpl, return_action_list.tpl, return_reason_list.tpl, return_status_list.tpl, stock_status_list.tpl,
			 tax_class_list.tpl, tax_rate_list.tpl, weight_class_list.tpl, zone_list.tpl -->
		<operation error="skip">
			<search position="replace" regex="true"><![CDATA[~<\?php echo (\$[a-z_]*)\['(name|title)'\]; \?>~]]></search>
			<add><![CDATA[<a href="<?php echo $1['action'][0]['href']; ?>" class="quick-link"><?php echo $1['$2']; ?></a>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/module/featured.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[.append]]></search>
			<add><![CDATA[.prepend]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[filter_name=' +  encodeURIComponent(request.term)]]></search>
			<add><![CDATA[filter_name=' +  encodeURIComponent(request.term) + '&aes_model=true']]></add>
		</operation>
	</file>
	<file name="admin/view/template/module/welcome.tpl">
		<operation error="log">
			<search position="before"><![CDATA[filebrowserImageBrowseUrl:]]></search>
			<add><![CDATA[	toolbar: 'Full',
	<?php if ($this->config->get('aes_spellcheck_autostart') && $language['code'] == 'en') { ?>
	scayt_autoStartup: true,
	<?php } ?>]]></add>
		</operation>
	</file>
	<file path="admin/view/template/sale/" name="contact.tpl,coupon_form.tpl,order_form.tpl,return_form.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[filter_name=' +  encodeURIComponent(request.term)]]></search>
			<add><![CDATA[filter_name=' +  encodeURIComponent(request.term) + '&aes_model=true']]></add>
		</operation>
	</file>
	<file name="admin/view/template/sale/contact.tpl">
		<operation error="log">
			<search position="before"><![CDATA[filebrowserBrowseUrl:]]></search>
			<add><![CDATA[	toolbar: 'Full',
	<?php if ($this->config->get('aes_spellcheck_autostart') && $this->config->get('config_language') == 'en') { ?>
	scayt_autoStartup: true,
	<?php } ?>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/sale/customer_form.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $heading_title; ?>]]></search>
			<add><![CDATA[<?php echo $heading_title; ?><?php echo $heading_info; ?>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/sale/customer_list.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $customer['name']; ?>]]></search>
			<add><![CDATA[<a href="<?php echo $customer['action'][0]['href']; ?>" class="quick-link"><?php echo $customer['name']; ?></a>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/sale/order_info.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $heading_title; ?>]]></search>
			<add><![CDATA[<?php echo $heading_title; ?><?php echo $heading_info; ?>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/sale/order_list.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $order['customer']; ?>]]></search>
			<add><![CDATA[<a href="<?php echo $order['action'][0]['href']; ?>" class="quick-link"><?php echo $order['customer']; ?></a>]]></add>
		</operation>
		<!-- AES 1.3.0 -->
		<operation error="log">
			<search position="before"><![CDATA[$sort == 'o.total']]></search>
			<add><![CDATA[              <td class="left"><?php if ($sort == 'company') { ?>
                <a href="<?php echo $sort_company; ?>" class="<?php echo strtolower($order); ?>"><?php echo $column_company; ?></a>
                <?php } else { ?>
                <a href="<?php echo $sort_company; ?>"><?php echo "Instructions"; ?></a>
                <?php } ?></td>
              <td class="left"><?php if ($sort == 'email') { ?>
                <a href="<?php echo $sort_email; ?>" class="<?php echo strtolower($order); ?>"><?php echo $column_email; ?></a>
                <?php } else { ?>
                <a href="<?php echo $sort_email ?>"><?php echo $column_email; ?></a>
                <?php } ?></td>]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[</select></td>]]></search>
			<add><![CDATA[              <td><input type="text" name="filter_instructions" value="<?php echo $filter_instructions; ?>" /></td>
              <td><input type="text" name="filter_email" value="<?php echo $filter_email; ?>" /></td>]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[<?php echo $order['status']; ?>]]></search>
			<add><![CDATA[              <td class="left"><?php echo $order['instructions']; ?></td>
              <td class="left"><?php echo $order['email']; ?></td>]]></add>
		</operation>
		<operation error="log">
			<search position="replace" regex="true"><![CDATA[~<td class="center" colspan="([0-9]*)">~]]></search>
			<add><![CDATA[<td class="center" colspan="<?php echo ($1 + 2); ?>">]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[var filter_customer]]></search>
			<add><![CDATA[	var filter_instructions = $('input[name=\'filter_instructions\']').attr('value');
	
	if (filter_instructions) {
		url += '&filter_instructions=' + encodeURIComponent(filter_instructions);
	}

	var filter_email = $('input[name=\'filter_email\']').attr('value');
	
	if (filter_email) {
		url += '&filter_email=' + encodeURIComponent(filter_email);
	}]]></add>
		</operation>
		<!-- // -->
	</file>
	<file name="admin/view/template/sale/voucher_theme_form.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[width: 800,]]></search>
			<add><![CDATA[width: <?php echo $filemanager_width; ?>,]]></add>
		</operation>
		<operation error="log">
			<search position="replace"><![CDATA[height: 400,]]></search>
			<add><![CDATA[height: <?php echo $filemanager_height; ?>,]]></add>
		</operation>
	</file>
	<file name="admin/view/template/sale/voucher_theme_list.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $voucher_theme['name']; ?>]]></search>
			<add><![CDATA[<a href="<?php echo $voucher_theme['action'][0]['href']; ?>" class="quick-link"><?php echo $voucher_theme['name']; ?></a>]]></add>
		</operation>
	</file>
	<file path="admin/view/template/setting/" name="setting.tpl,store_form.tpl">
		<operation error="skip">
			<search position="replace"><![CDATA[width: 800,]]></search>
			<add><![CDATA[width: <?php echo $filemanager_width; ?>,]]></add>
		</operation>
		<operation error="skip">
			<search position="replace"><![CDATA[height: 400,]]></search>
			<add><![CDATA[height: <?php echo $filemanager_height; ?>,]]></add>
		</operation>
	</file>
	<file name="admin/view/template/setting/setting.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<a href="#tab-option"><?php echo $tab_option; ?></a>]]></search>
			<add><![CDATA[<a href="#tab-option"><?php echo $tab_option; ?></a><a href="#tab-aes"><?php echo $tab_aes; ?></a>]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[<div id="tab-image">]]></search>
			<add><![CDATA[<div id="tab-aes">
          <div id="vtabs" class="vtabs">
            <a href="#tab-aes-general"><?php echo $tab_aes_general; ?></a>
			<a href="#tab-aes-product-list"><?php echo $tab_aes_product_list; ?></a>
            <a href="#tab-aes-product-form"><?php echo $tab_aes_product_form; ?></a>
            <a href="#tab-aes-download"><?php echo $tab_aes_download; ?></a>
          </div>
          <div id="tab-aes-general" class="vtabs-content">
            <table class="form">
              <tr>
                <td><?php echo $entry_latest_orders; ?></td>
                <td><input type="text" name="aes_latest_orders" value="<?php echo $aes_latest_orders; ?>" size="3" /></td>
              </tr>
              <tr>
                <td><?php echo $entry_order_status_exclusion; ?></td>
                <td><div class="scrollbox">
                  <?php $class = 'odd'; ?>
                  <?php foreach ($order_statuses as $order_status) { ?>
                  <?php $class = ($class == 'even' ? 'odd' : 'even'); ?>
                  <div class="<?php echo $class; ?>">
                    <?php if (in_array($order_status['order_status_id'], $aes_sales_status_exclude)) { ?>
                    <input type="checkbox" name="aes_sales_status_exclude[]" value="<?php echo $order_status['order_status_id']; ?>" checked="checked" />
                    <?php echo $order_status['name']; ?>
                    <?php } else { ?>
                    <input type="checkbox" name="aes_sales_status_exclude[]" value="<?php echo $order_status['order_status_id']; ?>" />
                    <?php echo $order_status['name']; ?>
                    <?php } ?>
                  </div>
                  <?php } ?>
                </div>
                <a onclick="$(this).parent().find(':checkbox').attr('checked', true);"><?php echo $text_select_all; ?></a> / <a onclick="$(this).parent().find(':checkbox').attr('checked', false);"><?php echo $text_unselect_all; ?></a></td>
              </tr>
              <tr>
                <td><?php echo $entry_greedy_autocomplete; ?></td>
                <td><?php if ($aes_greedy_autocomplete) { ?>
                  <input type="radio" name="aes_greedy_autocomplete" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_greedy_autocomplete" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_greedy_autocomplete" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_greedy_autocomplete" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
              <tr>
                <td><?php echo $entry_expanded_autocomplete; ?></td>
                <td><?php if ($aes_expanded_autocomplete) { ?>
                  <input type="radio" name="aes_expanded_autocomplete" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_expanded_autocomplete" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_expanded_autocomplete" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_expanded_autocomplete" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
              <tr>
                <td><?php echo $entry_seo_duplicate_check; ?></td>
                <td><?php if ($aes_seo_duplicate_check) { ?>
                  <input type="radio" name="aes_seo_duplicate_check" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_seo_duplicate_check" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_seo_duplicate_check" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_seo_duplicate_check" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
              <tr>
                <td><?php echo $entry_spellcheck_autostart; ?></td>
                <td><?php if ($aes_spellcheck_autostart) { ?>
                  <input type="radio" name="aes_spellcheck_autostart" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_spellcheck_autostart" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_spellcheck_autostart" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_spellcheck_autostart" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
              <tr>
                <td><?php echo $entry_filemanager_size; ?></td>
                <td><select name="aes_filemanager_size">
                    <option value=""><?php echo $text_default; ?></option>
                    <?php foreach ($filemanager_sizes as $filemanager) { ?>
                    <?php if ($filemanager['size'] == $aes_filemanager_size) { ?>
                    <option value="<?php echo $filemanager['size']; ?>" selected="selected"><?php echo $filemanager['name']; ?></option>
                    <?php } else { ?>
                    <option value="<?php echo $filemanager['size']; ?>"><?php echo $filemanager['name']; ?></option>
                    <?php } ?>
                    <?php } ?>
                  </select></td>
              </tr>
            </table>
          </div>
          <div id="tab-aes-product-list" class="vtabs-content">
            <table class="form">
              <tr>
                <td><?php echo $entry_product_list_sort; ?></td>
                <td><select name="aes_product_list_sort">
                    <option value=""><?php echo $text_default; ?></option>
                    <?php foreach ($sorts as $product_sort) { ?>
                    <?php if ($product_sort['sort'] == $aes_product_list_sort) { ?>
                    <option value="<?php echo $product_sort['sort']; ?>" selected="selected"><?php echo $product_sort['name']; ?></option>
                    <?php } else { ?>
                    <option value="<?php echo $product_sort['sort']; ?>"><?php echo $product_sort['name']; ?></option>
                    <?php } ?>
                    <?php } ?>
                  </select></td>
              </tr>
              <tr>
                <td><?php echo $entry_product_list_added_filter; ?></td>
                <td><?php if ($aes_product_list_added_filter) { ?>
                  <input type="radio" name="aes_product_list_added_filter" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_product_list_added_filter" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_product_list_added_filter" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_product_list_added_filter" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
              <tr>
                <td><?php echo $entry_product_list_modified_filter; ?></td>
                <td><?php if ($aes_product_list_modified_filter) { ?>
                  <input type="radio" name="aes_product_list_modified_filter" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_product_list_modified_filter" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_product_list_modified_filter" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_product_list_modified_filter" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
              <tr>
                <td><?php echo $entry_product_list_category_filter; ?></td>
                <td><?php if ($aes_product_list_category_filter) { ?>
                  <input type="radio" name="aes_product_list_category_filter" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_product_list_category_filter" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_product_list_category_filter" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_product_list_category_filter" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
            </table>
          </div>
          <div id="tab-aes-product-form" class="vtabs-content">
            <table class="form">
              <tr>
                <td><?php echo $entry_default_product_tax_class; ?></td>
                <td><select name="aes_default_product_tax_class_id">
                  <option value="0"><?php echo $text_none; ?></option>
                  <?php foreach ($tax_classes as $tax_class) { ?>
                  <?php if ($tax_class['tax_class_id'] == $aes_default_product_tax_class_id) { ?>
                  <option value="<?php echo $tax_class['tax_class_id']; ?>" selected="selected"><?php echo $tax_class['title']; ?></option>
                  <?php } else { ?>
                  <option value="<?php echo $tax_class['tax_class_id']; ?>"><?php echo $tax_class['title']; ?></option>
                  <?php } ?>
                  <?php } ?>
                </select></td>
              </tr>
              <tr>
                <td><?php echo $entry_default_product_quantity; ?></td>
                <td><input type="text" name="aes_default_product_quantity" value="<?php echo $aes_default_product_quantity; ?>" size="3" /></td>
              </tr>
              <tr>
                <td><?php echo $entry_default_product_minimum; ?></td>
                <td><input type="text" name="aes_default_product_minimum" value="<?php echo $aes_default_product_minimum; ?>" size="3" /></td>
              </tr>
              <tr>
                <td><?php echo $entry_default_product_maximum; ?></td>
                <td><input type="text" name="aes_default_product_maximum" value="<?php echo $aes_default_product_maximum; ?>" size="3" /></td>
              </tr>
              <tr>
                <td><?php echo $entry_default_product_subtract; ?></td>
                <td><?php if ($aes_default_product_subtract) { ?>
                  <input type="radio" name="aes_default_product_subtract" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_default_product_subtract" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_default_product_subtract" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_default_product_subtract" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
              <tr>
                <td><?php echo $entry_default_product_shipping; ?></td>
                <td><?php if ($aes_default_product_shipping) { ?>
                  <input type="radio" name="aes_default_product_shipping" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_default_product_shipping" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_default_product_shipping" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_default_product_shipping" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
              <tr>
                <td><?php echo $entry_default_product_status; ?></td>
                <td><select name="aes_default_product_status">
                    <?php if ($aes_default_product_status == 0) { ?>
                    <option value="1"><?php echo $text_enabled; ?></option>
                    <option value="0" selected="selected"><?php echo $text_disabled; ?></option>
                    <?php } else { ?>
                    <option value="1" selected="selected"><?php echo $text_enabled; ?></option>
                    <option value="0"><?php echo $text_disabled; ?></option>
                    <?php } ?>
                  </select></td>
              </tr>
              <tr>
                <td><?php echo $entry_default_product_option_required; ?></td>
                <td><?php if ($aes_default_product_option_required) { ?>
                  <input type="radio" name="aes_default_product_option_required" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_default_product_option_required" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_default_product_option_required" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_default_product_option_required" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
              <tr>
                <td><?php echo $entry_default_product_option_subtract; ?></td>
                <td><?php if ($aes_default_product_option_subtract) { ?>
                  <input type="radio" name="aes_default_product_option_subtract" value="1" checked="checked" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_default_product_option_subtract" value="0" />
                  <?php echo $text_no; ?>
                  <?php } else { ?>
                  <input type="radio" name="aes_default_product_option_subtract" value="1" />
                  <?php echo $text_yes; ?>
                  <input type="radio" name="aes_default_product_option_subtract" value="0" checked="checked" />
                  <?php echo $text_no; ?>
                  <?php } ?></td>
              </tr>
              <tr>
                <td><?php echo $entry_default_product_customer_group; ?></td>
                <td><select name="aes_default_product_customer_group_id">
                  <option value="0"><?php echo $text_none; ?></option>
                  <?php foreach ($customer_groups as $customer_group) { ?>
                  <?php if ($customer_group['customer_group_id'] == $aes_default_product_customer_group_id) { ?>
                  <option value="<?php echo $customer_group['customer_group_id']; ?>" selected="selected"><?php echo $customer_group['name']; ?></option>
                  <?php } else { ?>
                  <option value="<?php echo $customer_group['customer_group_id']; ?>"><?php echo $customer_group['name']; ?></option>
                  <?php } ?>
                  <?php } ?>
                </select></td>
              </tr>
            </table>
          </div>
          <div id="tab-aes-download" class="vtabs-content">
              <table class="form">
                  <tr>
                      <td><?php echo $entry_default_download_remaining; ?></td>
                      <td><input type="text" name="aes_default_download_remaining" value="<?php echo $aes_default_download_remaining; ?>" size="3" /></td>
                  </tr>
              </table>
          </div>
        </div>]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[$('#tabs a').tabs();]]></search>
			<add><![CDATA[$('.vtabs a').tabs();]]></add>
		</operation>
	</file>
	<file name="admin/view/template/setting/store_list.tpl">
		<operation error="log">
			<search position="replace"><![CDATA[<?php echo $store['name']; ?>]]></search>
			<add><![CDATA[<a href="<?php echo $store['action'][0]['href']; ?>" class="quick-link"><?php echo $store['name']; ?></a>]]></add>
		</operation>
	</file>
	<file name="admin/view/template/user/*_list.tpl">
		<!-- Replacements in: user_group_list.tpl, user_list.tpl -->
		<operation error="skip">
			<search position="replace" regex="true"><![CDATA[~<\?php echo (\$[a-z_]*)\['(name|username)'\]; \?>~]]></search>
			<add><![CDATA[<a href="<?php echo $1['action'][0]['href']; ?>" class="quick-link"><?php echo $1['$2']; ?></a>]]></add>
		</operation>
	</file>
	<!-- Backport r925 fix for abandoned orders appearing in sales reporting -->
	<!-- http://code.google.com/p/opencart/source/detail?r=925&path=/trunk/upload/admin/model/report/sale.php# -->
	<file name="admin/model/report/customer.php">
		<operation error="skip">
			<!-- 1.5.1.1 and 1.5.1.2 -->
			<search position="replace"><![CDATA[if (isset($data['filter_order_status_id']) && $data['filter_order_status_id']) {]]></search>
			<add><![CDATA[if (!empty($data['filter_order_status_id'])) {]]></add>
		</operation>
		<operation error="skip">
			<!-- 1.5.1.3 to 1.5.2.1 -->
			<search position="replace"><![CDATA[if (!is_null($data['filter_order_status_id'])) {]]></search>
			<add><![CDATA[if (!empty($data['filter_order_status_id'])) {]]></add>
		</operation>
	</file>
	<file name="admin/model/report/product.php">
		<operation error="skip">
			<!-- 1.5.1.1 and 1.5.1.2 -->
			<search position="replace"><![CDATA[if (isset($data['filter_order_status_id']) && $data['filter_order_status_id']) {]]></search>
			<add><![CDATA[if (!empty($data['filter_order_status_id'])) {]]></add>
		</operation>
		<operation error="skip">
			<!-- 1.5.1.3 to 1.5.2.1 -->
			<search position="replace"><![CDATA[if (!is_null($data['filter_order_status_id'])) {]]></search>
			<add><![CDATA[if (!empty($data['filter_order_status_id'])) {]]></add>
		</operation>
	</file>
	<file name="admin/model/report/sale.php">
		<operation error="skip">
			<!-- 1.5.1.1 and 1.5.1.2 -->
			<search position="replace"><![CDATA[if (isset($data['filter_order_status_id']) && $data['filter_order_status_id']) {]]></search>
			<add><![CDATA[if (!empty($data['filter_order_status_id'])) {]]></add>
		</operation>
		<operation error="skip">
			<!-- 1.5.1.3 to 1.5.2.1 -->
			<search position="replace"><![CDATA[if (!is_null($data['filter_order_status_id'])) {]]></search>
			<add><![CDATA[if (!empty($data['filter_order_status_id'])) {]]></add>
		</operation>
		<operation error="log">
			<search position="replace" regex="true"><![CDATA[~" ((WHERE)|(AND)) (o\.)*order_status_id > '0'"~]]></search>
			<add><![CDATA[" $1 $4order_status_id NOT IN (0" . $this->db->escape($this->config->has('aes_sales_status_exclude') ? ',' . implode(',', $this->config->get('aes_sales_status_exclude')) : '') . ")"]]></add>
		</operation>
	</file>
	<file name="admin/view/template/report/*.tpl">
		<operation error="skip">
			<search position="replace"><![CDATA[if (filter_order_status_id) {]]></search>
			<add><![CDATA[if (filter_order_status_id != 0) {]]></add>
		</operation>
	</file>
	<!-- // End Backport -->
	<!-- CUSTOMIZE FOR NON-ENGLISH LANGUAGES -->
	<file name="admin/language/*/catalog/category.php">
		<operation error="log">
			<ignoreif><![CDATA[// Admin Enhancement Suite]]></ignoreif>
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[
// Admin Enhancement Suite
$_['column_status']           = 'Status';
$_['error_keyword_duplicate'] = 'SEO Keyword already in use!';
$_['text_store_view']         = 'Store Front';]]></add>
		</operation>
	</file>
	<file name="admin/language/*/catalog/information.php">
		<operation error="log">
			<ignoreif><![CDATA[// Admin Enhancement Suite]]></ignoreif>
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[
// Admin Enhancement Suite
$_['column_status']           = 'Status';
$_['error_keyword_duplicate'] = 'SEO Keyword already in use!';
$_['text_store_view']         = 'Store Front';]]></add>
		</operation>
	</file>
	<file name="admin/language/*/catalog/manufacturer.php">
		<operation error="log">
			<ignoreif><![CDATA[// Admin Enhancement Suite]]></ignoreif>
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[
// Admin Enhancement Suite
$_['error_keyword_duplicate'] = 'SEO Keyword already in use!';
$_['text_store_view']         = 'Store Front';]]></add>
		</operation>
	</file>
	<file name="admin/language/*/catalog/product.php">
		<operation error="log">
			<ignoreif><![CDATA[// Admin Enhancement Suite]]></ignoreif>
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[
// Admin Enhancement Suite
$_['column_categories']       = 'Category';
$_['column_date_added']       = 'Date Added';
$_['column_date_modified']    = 'Date Modified';
$_['entry_last_modified']     = 'Last Modified:';
$_['error_keyword_duplicate'] = 'SEO Keyword already in use!';
$_['text_enabled_future']     = 'Enabled (Future)';
$_['text_store_view']         = 'Store Front';]]></add>
		</operation>
	</file>
	<file name="admin/language/*/common/home.php">
		<operation error="log">
			<ignoreif><![CDATA[// Admin Enhancement Suite]]></ignoreif>
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[// Admin Enhancement Suite

$_['column_sale_count']             = 'Orders Placed';
$_['text_guest']                    = 'Guest';]]></add>
		</operation>
	</file>
	<file name="admin/language/*/sale/order.php">
		<operation error="log">
			<ignoreif><![CDATA[// Admin Enhancement Suite]]></ignoreif>
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[// Admin Enhancement Suite

$_['column_email']   = 'Email';]]></add>
		</operation>
	</file>
	<file name="admin/language/*/setting/setting.php">
		<operation error="log">
			<ignoreif><![CDATA[// Admin Enhancement Suite]]></ignoreif>
			<search position="before"><![CDATA[?>]]></search>
			<add><![CDATA[
// Admin Enhancement Suite
$_['tab_aes']              = 'Admin Enhancement Suite';
$_['tab_aes_download']     = 'Download Defaults';
$_['tab_aes_general']      = 'General';
$_['tab_aes_product_form'] = 'Product Form Defaults';
$_['tab_aes_product_list'] = 'Product List';

$_['text_default']         = 'Default';
$_['text_disabled']        = 'Disabled';
$_['text_enabled']         = 'Enabled';
$_['text_select_all']      = 'Select All';
$_['text_unselect_all']    = 'Select None';

$_['entry_expanded_autocomplete']  = 'Product Autocomplete Expanded:<br /><span class="help">Include the product model when in search when using autocomplete (related products, featured, coupons, etc.)</span>';
$_['entry_filemanager_size']       = 'Filemanager Size:<br /><span class="help">Default size 800 x 400</span>';
$_['entry_greedy_autocomplete']    = 'Autocomplete Match Anywhere:<br /><span class="help">Match words anywhere in a phrase when using autocomplete or filtering (e.g. "touch" will match "HTC Touch HD")</span>';
$_['entry_latest_orders']          = 'Latest Orders Limit:<br /><span class="help">The number of orders to show in Dashboard \'Latest Orders\' (default \'10\')</span>';
$_['entry_order_status_exclusion'] = 'Order Status Sales Exclusion:<br /><span class="help">Orders statuses not to include when reporting sales statistics (Dashboard Overview and Statistics)</span>';
$_['entry_seo_duplicate_check']    = 'SEO Keyword Duplicate Check:<br /><span class="help">Check that SEO Keywords are not duplicated to ensure the correct product, category, information, and manufacturer page is always shown</span>';
$_['entry_spellcheck_autostart']   = 'Spellcheck Autostart:<br /><span class="help">Autostart spellcheck in CKEditor (English only)</span>';

$_['entry_product_list_sort']               = 'Sort Order:<br /><span class="help">Default \'Name (A - Z)\'</span>';
$_['entry_product_list_added_filter']       = 'Date Added:<br /><span class="help">Add product Date Added to product list filtering and sorting</span>';
$_['entry_product_list_category_filter']    = 'Category:<br /><span class="help">Add product Category to product list filtering and sorting</span>';
$_['entry_product_list_modified_filter']    = 'Date Modified:<br /><span class="help">Add product Date Modified to product list filtering and sorting</span>';

$_['entry_default_product_customer_group']  = 'Customer Group:<br /><span class="help">Default customer group for discounts and specials</span>';
$_['entry_default_product_minimum']         = 'Minimum Quantity:';
$_['entry_default_product_option_required'] = 'Option Required:<br /><span class="help">New product options are added as \'Required\' (default \'Yes\')</span>';
$_['entry_default_product_option_subtract'] = 'Option Value Subtract Stock:<br /><span class="help">New product option values are added as \'Subtract\' stock (default \'Yes\')</span>';
$_['entry_default_product_quantity']        = 'Quantity:';
$_['entry_default_product_shipping']        = 'Requires Shipping:';
$_['entry_default_product_status']          = 'Status:';
$_['entry_default_product_subtract']        = 'Subtract Stock:';
$_['entry_default_product_tax_class']       = 'Tax Class:';

$_['entry_default_download_remaining']      = 'Total Downloads Allowed:<br /><span class="help">Default \'1\'</span>';

$_['sort_name_asc']      = 'Name (A - Z)';
$_['sort_name_desc']     = 'Name (Z - A)';
$_['sort_model_asc']     = 'Model (A - Z)';
$_['sort_model_desc']    = 'Model (Z - A)';
$_['sort_price_asc']     = 'Price (Low > High)';
$_['sort_price_desc']    = 'Price (High > Low)';
$_['sort_quantity_asc']  = 'Quantity (Low > High)';
$_['sort_quantity_desc'] = 'Quantity (High > Low)';]]></add>
		</operation>
	</file>
	<!-- END LANGUAGE CUSTOMIZATION -->
</modification>

<!--

	<file name="">
		<operation error="">
			<search position=""><![CDATA[]]></search>
			<add><![CDATA[]]></add>
		</operation>
		<operation error="">
			<search position=""><![CDATA[]]></search>
			<add><![CDATA[]]></add>
		</operation>
		<operation error="">
			<search position=""><![CDATA[]]></search>
			<add><![CDATA[]]></add>
		</operation>
	</file>

-->